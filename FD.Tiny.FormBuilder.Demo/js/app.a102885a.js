(function(e){function t(t){for(var l,n,i=t[0],s=t[1],c=t[2],p=0,d=[];p<i.length;p++)n=i[p],r[n]&&d.push(r[n][0]),r[n]=0;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],l=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(l=!1)}l&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var l={},r={app:0},o=[];function n(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=l,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1348:function(e,t,a){},"18cf":function(e,t,a){"use strict";var l=a("6fa4"),r=a.n(l);r.a},"1e50":function(e,t,a){},"37a3":function(e,t,a){"use strict";var l=a("4183"),r=a.n(l);r.a},"3df4":function(e,t,a){"use strict";var l=a("1e50"),r=a.n(l);r.a},4183:function(e,t,a){},"484c":function(e,t,a){"use strict";var l=a("ba98"),r=a.n(l);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var l=a("2b0e"),r=a("5c96"),o=a.n(r),n=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),i=[],s=(a("7c55"),a("2877")),c={},u=Object(s["a"])(c,n,i,!1,null,null,null),p=u.exports,d=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("head-nav"),a("div",[a("left-menu",{directives:[{name:"show",rawName:"v-show",value:e.leftMenuSlider,expression:"leftMenuSlider"}]}),a("div",{staticClass:"content_page",style:{width:e.leftMenuSlider?e.width+"px":e.width+221+"px",height:e.height+"px",marginLeft:e.leftMenuSlider?"0px":"20px"}},[a("router-view")],1)],1)],1)},b=[],f=a("cebc"),_=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head_nav"},[a("div",{staticClass:"logo"},[a("span",[e._v("房典数据-表单工具")])])])}],v={name:"headNav"},h=v,y=(a("9147"),Object(s["a"])(h,_,g,!1,null,"2e57bd08",null)),x=y.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left_menu",style:{height:e.$store.state.page.win_content.height+"px"}},e._l(e.menus,function(t){return a("div",{class:["left_menu-item",t.active?"active":""],on:{click:function(a){return e.menuClick(t)}}},[a("span",{staticClass:"left_menu-item-title",domProps:{textContent:e._s(t.name)}})])}),0)},D=[],C=(a("a481"),a("ac6a"),{name:"leftMenu",data:function(){return{menus:[{name:"表单",path:"/FormList",active:!1},{name:"数据源",path:"/DataSource",active:!1}]}},methods:{menuClick:function(e){console.log(e),this.menus.forEach(function(e){e.active=!1}),e.active=!0,this.$router.replace(e.path)}},mounted:function(){-1!==this.$route.path.indexOf("/DataSource")?this.menus[1].active=!0:this.menus[0].active=!0}}),k=C,S=(a("81e6"),Object(s["a"])(k,L,D,!1,null,"5fd8c87c",null)),F=S.exports,$=a("2f62"),I={name:"home",data:function(){return{}},components:{headNav:x,leftMenu:F},computed:Object(f["a"])({},Object($["c"])(["width","height","leftMenuSlider"])),methods:Object(f["a"])({},Object($["b"])(["set_win_content"]),{setSize:function(){var e={height:document.body.clientHeight-101,width:document.body.clientWidth-261};this.set_win_content(e)}}),created:function(){this.setSize()},mounted:function(){var e=this;window.onresize=function(){e.setSize()}}},w=I,A=(a("7cbd"),Object(s["a"])(w,m,b,!1,null,"3e13fb26",null)),E=A.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-list"},[a("paper-header",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("表单列表")]},proxy:!0},{key:"button",fn:function(){return[a("el-button",{attrs:{size:"mini"},on:{click:e.getFormList}},[e._v("刷新")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.formAddVisible=!0}}},[e._v("新建表单")])]},proxy:!0}])}),a("div",{staticClass:"content",style:{width:e.width-40+"px",height:e.height-52-42+"px"}},[a("el-table",{attrs:{data:e.formListPage,height:e.height-52-52}},[a("el-table-column",{attrs:{prop:"form_id",label:"表单ID",width:"120"}}),a("el-table-column",{attrs:{prop:"form_name",label:"表单名称",width:"200"}}),a("el-table-column",{attrs:{prop:"form_desc",label:"描述"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"新增表单",visible:e.formAddVisible},on:{"update:visible":function(t){e.formAddVisible=t},close:e.formAddClose}},[a("el-form",{ref:"CustomerForm",attrs:{model:e.customerForm,rules:e.customerFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"表单名称",prop:"form_name"}},[a("el-input",{model:{value:e.customerForm.form_name,callback:function(t){e.$set(e.customerForm,"form_name",t)},expression:"customerForm.form_name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"form_desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.customerForm.form_desc,callback:function(t){e.$set(e.customerForm,"form_desc",t)},expression:"customerForm.form_desc"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addForm}},[e._v("确定")]),a("el-button",{on:{click:function(t){e.formAddVisible=!1}}},[e._v("取消")])],1)],1)],1)],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"",layout:"prev, pager, next",total:e.formList.length,currentPage:e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)},q=[],O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["hd",e.bottomLine?"bottom-line":""]},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.backShow,expression:"backShow"}],staticClass:"icon-return-back"},[a("i",{staticClass:"iconfont icon-fanhui",on:{click:e.iconClick}})]),a("div",{staticClass:"text-title"},[e._t("title")],2),a("div",{staticClass:"action-button"},[e._t("button")],2)])},N=[],P={name:"PaperHeader",props:{bottomLine:!0,back:Function},data:function(){return{backShow:!1}},methods:{iconClick:function(){this.back()}},mounted:function(){this.back&&(this.backShow=!0)}},M=P,z=(a("3df4"),Object(s["a"])(M,O,N,!1,null,"4292efa8",null)),R=z.exports,V={name:"formList",components:{"paper-header":R},computed:Object(f["a"])({},Object($["c"])(["width","height"]),{formListPage:function(){return this.formList.slice(10*(this.currentPage-1),10*this.currentPage)}}),data:function(){return{formList:[],currentPage:1,formAddVisible:!1,customerForm:{form_name:"",form_desc:""},customerFormRules:{form_name:[{required:!0,message:"请输入表单名称",trigger:"blur"}]}}},methods:{getFormList:function(){var e=this,t={name:""};this.$get("/api/Form/Index",t).then(function(t){console.log("表单列表",t),e.formList=t})},addForm:function(){var e=this;this.$refs.CustomerForm.validate(function(t){t&&e.$post("/api/Form/Add",e.customerForm).then(function(t){console.log("新增表单",t),e.getFormList(),e.formAddVisible=!1})})},handleEdit:function(e){this.$router.push({path:"/FormEdit/".concat(e.form_id)})},handlePreview:function(e){this.$router.push({path:"/FormPreview/".concat(e.form_id)})},handleDelete:function(e){var t=this;this.$confirm("此操作将删除该表单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message({type:"info",message:"待开发"})}).catch(function(){})},formAddClose:function(){this.$refs.CustomerForm.resetFields()}},mounted:function(){this.getFormList()}},j=V,B=(a("b9c1"),Object(s["a"])(j,T,q,!1,null,"bcb07e38",null)),W=B.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-source"},[a("paper-header",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("数据源列表")]},proxy:!0},{key:"button",fn:function(){return[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.getDataApiList()}}},[e._v("刷新")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleAdd()}}},[e._v("新建数据源")])]},proxy:!0}])}),a("div",{staticClass:"content",style:{width:e.width-40+"px",height:e.height-52-42+"px"}},[a("el-table",{attrs:{data:e.dataApiListPage,height:e.height-52-52}},[a("el-table-column",{attrs:{prop:"api_id",label:"数据源ID",width:"120"}}),a("el-table-column",{attrs:{prop:"api_name",label:"数据源名称",width:"200"}}),a("el-table-column",{attrs:{prop:"api_desc",label:"描述"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-pagination",{staticClass:"pagination",staticStyle:{"text-align":"right"},attrs:{background:"",layout:"prev, pager, next",total:e.dataApiList.length,currentPage:e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)},G=[],Z={name:"dataSource",components:{"paper-header":R},computed:Object(f["a"])({},Object($["c"])(["width","height"]),{dataApiListPage:function(){return this.dataApiList.slice(10*(this.currentPage-1),10*this.currentPage)}}),data:function(){return{dataApiList:[],currentPage:1}},methods:{getDataApiList:function(){var e=this,t={name:""};this.$get("/api/DataApi/Index",t).then(function(t){console.log("数据源列表",t),e.dataApiList=t})},handleDelete:function(e){var t=this;this.$confirm("此操作将删除该数据源, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$post("/api/DataApi/Del",{apiId:e.api_id}).then(function(e){t.getDataApiList()})}).catch(function(){})},handleEdit:function(e){this.$router.push({path:"/DataSourceEdit/".concat(e.api_id)})},handleAdd:function(){this.$router.push({path:"/DataSourceAdd"})}},mounted:function(){this.getDataApiList()}},Q=Z,U=(a("484c"),Object(s["a"])(Q,H,G,!1,null,"620ca0ba",null)),J=U.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-edit"},[a("paper-header",{attrs:{back:e.returnBack},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("表单编辑")]},proxy:!0},{key:"button",fn:function(){return[a("el-button",{attrs:{size:"mini"}},[e._v("刷新")]),a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("表单设置")])]},proxy:!0}])}),a("div",{staticClass:"content",style:{width:e.width+180+"px",height:e.height-52+"px"}},[a("div",{staticClass:"form-config-left",style:{width:"260px"}},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeComponentsName,callback:function(t){e.activeComponentsName=t},expression:"activeComponentsName"}},e._l(e.FormComponents,function(t,l){return a("el-collapse-item",{key:l,attrs:{name:t.component_group}},[a("template",{slot:"title"},[a("span",{staticStyle:{"font-weight":"bold"},domProps:{textContent:e._s(t.component_group)}})]),a("draggable",{staticClass:"config-filter",attrs:{options:{group:{name:"labelList",pull:"clone",put:!1},ghostClass:"form-config-center-row-ghost",sort:!1,animation:300}},model:{value:t.component_list,callback:function(a){e.$set(t,"component_list",a)},expression:"group.component_list"}},e._l(t.component_list,function(t,l){return a("div",{key:l,staticClass:"form-config-left-item"},[a("span",{domProps:{textContent:e._s(t.label_name_chs)}})])}),0)],2)}),1)],1),a("div",{staticClass:"form-config-center",style:{width:e.width-590+"px"}},[a("el-tabs",{staticClass:"form-label-type-tab",model:{value:e.labelActiveName,callback:function(t){e.labelActiveName=t},expression:"labelActiveName"}},[a("el-tab-pane",{attrs:{label:"控件标签",name:"control"}}),a("el-tab-pane",{attrs:{label:"变量标签",name:"variable"}}),a("el-tab-pane",{attrs:{label:"条件标签",name:"condition"}})],1),a("div",{staticClass:"form-config-content",attrs:{id:"FormContent"}},[a("vue-scrollbar",{ref:"FormLabelScrollbar",attrs:{classes:"form-label-scrollbar",id:"FormLabelContent"}},[a("div",{staticClass:"scroll-me"},[a("draggable",{staticStyle:{"min-height":"500px"},attrs:{options:{group:{name:"labelList",pull:!1,put:!0},disabled:"variable"===e.labelActiveName||"condition"===e.labelActiveName,ghostClass:"form-config-center-row-ghost",animation:300}},on:{update:e.updateData,add:e.addData},model:{value:e.setLableList,callback:function(t){e.setLableList=t},expression:"setLableList"}},e._l(e.setLableList,function(t,l){return a("div",{key:l,class:["form-config-center-row",l===e.currentLabelindex?"row-active":""],on:{click:function(t){return e.settingData(l)}}},["control"===e.labelActiveName?a("div",[t.label_type===e.LabelType.control?a("div",["map_gis"===t.label_config.control_config.control_type?a("div",[a("label-template",{staticClass:"form-config-center-control",staticStyle:{"margin-left":"2.5%"},attrs:{"lable-type":t.control_type}})],1):"map_baidu"===t.label_config.control_config.control_type?a("div",[a("label-template",{staticClass:"form-config-center-control",staticStyle:{"margin-left":"2.5%"},attrs:{"lable-type":t.control_type}})],1):"rtf"===t.label_config.control_config.control_type?a("div",[a("label-template",{staticClass:"form-config-center-control",staticStyle:{"margin-left":"2.5%"},attrs:{"lable-type":t.control_type}})],1):a("el-row",[a("el-col",{attrs:{span:6}},[a("label",{staticClass:"form-config-center-label"},[e._v(e._s(t.label_name_chs))])]),a("el-col",{attrs:{span:18}},[a("label-template",{staticClass:"form-config-center-control",attrs:{"lable-type":t.label_config.control_config.control_type}})],1)],1)],1):e._e()]):"variable"===e.labelActiveName?a("div",[t.label_type===e.LabelType.variable?a("div",{staticStyle:{padding:"20px 20px"}},[e._v("\n                                        "+e._s(t.label_name_chs)+"\n                                    ")]):e._e()]):a("div",[t.label_type===e.LabelType.condition?a("div",{staticStyle:{padding:"20px 20px"}},[e._v("\n                                        "+e._s(t.label_name_chs)+"\n                                    ")]):e._e()])])}),0)],1)])],1)],1),a("div",{staticClass:"form-config-right",style:{width:"450px"},attrs:{id:"FormRight"}},[e.labelEditChange?a("div",[e.currentLabelData.label_type===e.LabelType.control?a("div",["input_base"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"占位文本"}},[a("el-input",{attrs:{placeholder:"请输入占位文本"},model:{value:e.getLabelConfigItem("placeholder").value,callback:function(t){e.$set(e.getLabelConfigItem("placeholder"),"value",t)},expression:"getLabelConfigItem('placeholder').value"}})],1),a("el-form-item",{attrs:{label:"是否可清空"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("clearable").value,callback:function(t){e.$set(e.getLabelConfigItem("clearable"),"value",t)},expression:"getLabelConfigItem('clearable').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"input_autocomplete"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"占位文本"}},[a("el-input",{attrs:{placeholder:"请输入占位文本"},model:{value:e.getLabelConfigItem("placeholder").value,callback:function(t){e.$set(e.getLabelConfigItem("placeholder"),"value",t)},expression:"getLabelConfigItem('placeholder').value"}})],1),a("el-form-item",{attrs:{label:"是否可清空"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("clearable").value,callback:function(t){e.$set(e.getLabelConfigItem("clearable"),"value",t)},expression:"getLabelConfigItem('clearable').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"激活即列出数据"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("trigger-on-focus").value,callback:function(t){e.$set(e.getLabelConfigItem("trigger-on-focus"),"value",t)},expression:"getLabelConfigItem('trigger-on-focus').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}},[a("el-card",{staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("不为空验证")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("删除")])],1),a("el-row",[a("el-col",{staticStyle:{"font-size":"13px"},attrs:{span:6}},[e._v("错误提示")]),a("el-col",{staticStyle:{"font-size":"14px"},attrs:{span:18}},[e._v("楼盘地址不能为空")])],1)],1),a("el-card",{staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("字符长度验证")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("删除")])],1),a("el-row",[a("el-col",{staticStyle:{"font-size":"13px"},attrs:{span:6}},[e._v("最小长度")]),a("el-col",{staticStyle:{"font-size":"14px"},attrs:{span:18}},[e._v("0")])],1),a("el-row",[a("el-col",{staticStyle:{"font-size":"13px"},attrs:{span:6}},[e._v("最大长度")]),a("el-col",{staticStyle:{"font-size":"14px"},attrs:{span:18}},[e._v("50")])],1),a("el-row",[a("el-col",{staticStyle:{"font-size":"13px"},attrs:{span:6}},[e._v("错误提示")]),a("el-col",{staticStyle:{"font-size":"14px"},attrs:{span:18}},[e._v("长度在50个字符以内")])],1)],1),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){e.validatorAddDialog=!0}}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{title:"新增验证",visible:e.validatorAddDialog,width:"50%"},on:{"update:visible":function(t){e.validatorAddDialog=t},close:e.validatorAddDialogClose}},[a("el-form",{ref:"ValidatorAddForm",attrs:{model:e.validatorAddForm,"label-width":"120px"}},[a("el-form-item",{attrs:{prop:"validatorName",label:"验证名称",rules:[{required:!0,message:"请输入验证名称",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"验证名称"},model:{value:e.validatorAddForm.validatorName,callback:function(t){e.$set(e.validatorAddForm,"validatorName",t)},expression:"validatorAddForm.validatorName"}})],1),a("el-form-item",{attrs:{prop:"validatorType",label:"验证类型",rules:[{required:!0,message:"请选择验证类型",trigger:"change"}]}},[a("el-select",{attrs:{clearable:"",placeholder:"验证类型"},model:{value:e.validatorAddForm.validatorType,callback:function(t){e.$set(e.validatorAddForm,"validatorType",t)},expression:"validatorAddForm.validatorType"}},e._l(e.ValidatorType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),e.validatorAddForm.validatorType===e.ValidatorType.数字大小?a("div",[a("el-form-item",{attrs:{label:"数字最小值"}},[a("el-input",{model:{value:e.validatorAddForm.numberMin,callback:function(t){e.$set(e.validatorAddForm,"numberMin",t)},expression:"validatorAddForm.numberMin"}})],1),a("el-form-item",{attrs:{label:"数字最大值"}},[a("el-input",{model:{value:e.validatorAddForm.numberMax,callback:function(t){e.$set(e.validatorAddForm,"numberMax",t)},expression:"validatorAddForm.numberMax"}})],1)],1):e.validatorAddForm.validatorType===e.ValidatorType.字符长度?a("div",[a("el-form-item",{attrs:{label:"长度最小值"}},[a("el-input",{model:{value:e.validatorAddForm.lengthMin,callback:function(t){e.$set(e.validatorAddForm,"lengthMin",t)},expression:"validatorAddForm.lengthMin"}})],1),a("el-form-item",{attrs:{label:"长度最大值"}},[a("el-input",{model:{value:e.validatorAddForm.lengthMax,callback:function(t){e.$set(e.validatorAddForm,"lengthMax",t)},expression:"validatorAddForm.lengthMax"}})],1)],1):e.validatorAddForm.validatorType===e.ValidatorType.比较?a("div",[a("el-form-item",{attrs:{label:"比较对象"}},[a("el-input",{model:{value:e.validatorAddForm.compareTarget,callback:function(t){e.$set(e.validatorAddForm,"compareTarget",t)},expression:"validatorAddForm.compareTarget"}})],1),a("el-form-item",{attrs:{label:"比较类型"}},[a("el-input",{model:{value:e.validatorAddForm.compareType,callback:function(t){e.$set(e.validatorAddForm,"compareType",t)},expression:"validatorAddForm.compareType"}})],1)],1):e.validatorAddForm.validatorType===e.ValidatorType.正则?a("el-form-item",{attrs:{label:"正则配置"}},[a("el-input",{attrs:{placeholder:"正则表达式"},model:{value:e.validatorAddForm.regular,callback:function(t){e.$set(e.validatorAddForm,"regular",t)},expression:"validatorAddForm.regular"}})],1):e._e(),a("el-form-item",{attrs:{prop:"errorMessage",label:"错误提示",rules:[{required:!0,message:"请输入错误提示",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"错误提示"},model:{value:e.validatorAddForm.errorMessage,callback:function(t){e.$set(e.validatorAddForm,"errorMessage",t)},expression:"validatorAddForm.errorMessage"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.validatorAddDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.validatorAdd}},[e._v("确 定")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}},[a("div",[a("span",[e._v("数据源类型")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.handledDataTypeChange},model:{value:e.tempDataSourceConfig.data_source_type,callback:function(t){e.$set(e.tempDataSourceConfig,"data_source_type",t)},expression:"tempDataSourceConfig.data_source_type"}},e._l(e.DataSourceType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),e.tempDataSourceConfig.data_source_type===e.DataSourceType.Dict?a("el-card",{staticClass:"f-label-config-data-type",attrs:{shadow:"always"}},[a("div",[a("span",[e._v("字典类型")]),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{change:e.handledDictTypeChange},model:{value:e.tempDataSourceConfig.dic_type_id,callback:function(t){e.$set(e.tempDataSourceConfig,"dic_type_id",t)},expression:"tempDataSourceConfig.dic_type_id"}},e._l(e.dictList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dic_par_name,value:e.dic_par_id}})}),1)],1),""!==e.tempDataSourceConfig.dic_type_id&&e.dictPars.length>0?a("div",{staticStyle:{"margin-top":"10px"}},[a("div",[a("el-checkbox",{attrs:{indeterminate:e.dictIndeterminate},on:{change:e.handleDictIndeterminateCheckAll},model:{value:e.dictIndeterminateCheckAll,callback:function(t){e.dictIndeterminateCheckAll=t},expression:"dictIndeterminateCheckAll"}},[e._v("全选")])],1),a("div",{staticClass:"f-label-config-data-dic-checkbox"},[a("el-checkbox-group",{on:{change:e.handledDictCheckedChange},model:{value:e.dictChecked,callback:function(t){e.dictChecked=t},expression:"dictChecked"}},e._l(e.dictPars,function(t){return a("el-checkbox",{key:t.dic_par_id,attrs:{label:t.dic_par_id}},[e._v(e._s(t.dic_par_name))])}),1)],1)]):e._e()]):e.tempDataSourceConfig.data_source_type===e.DataSourceType.Custom?a("el-card",{staticClass:"f-label-config-data-type",attrs:{shadow:"always"}},[a("el-form",{ref:"dynamicValidateForm",attrs:{model:e.tempDataSourceConfig,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"value",label:"数据值",rules:[{required:!0,message:"请输入数据值",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:e.tempDataSourceConfig.value,callback:function(t){e.$set(e.tempDataSourceConfig,"value",t)},expression:"tempDataSourceConfig.value"}})],1),a("el-form-item",{attrs:{prop:"separator",label:"分割符",rules:[{required:!0,message:"请输入分割符",trigger:"blur"}]}},[a("el-input",{model:{value:e.tempDataSourceConfig.separator,callback:function(t){e.$set(e.tempDataSourceConfig,"separator",t)},expression:"tempDataSourceConfig.separator"}})],1),a("el-form-item",{attrs:{label:"结果预览"}},[a("span",{domProps:{textContent:e._s(e.getDataSourceConfigCustomResult())}})])],1)],1):e.tempDataSourceConfig.data_source_type===e.DataSourceType.DataApi?a("el-card",{staticClass:"f-label-config-data-type",attrs:{shadow:"always"}},[a("div",[a("span",[e._v("数据源")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.handledDataApiChange},model:{value:e.tempDataSourceConfig.api_id,callback:function(t){e.$set(e.tempDataSourceConfig,"api_id",t)},expression:"tempDataSourceConfig.api_id"}},e._l(e.dataApis,function(e,t){return a("el-option",{key:t,attrs:{label:e.api_name,value:e.api_id}})}),1)],1),""!==e.tempDataSourceConfig.api_id?a("div",e._l(e.tempDataApiParam,function(t,l){return a("el-row",{key:l,staticStyle:{"margin-top":"10px"}},[a("el-col",{staticStyle:{"text-align":"right",height:"40px","line-height":"40px","font-size":"13px"},attrs:{span:8}},[a("span",{domProps:{textContent:e._s(t.parameter_name_chs)}})]),a("el-col",{staticStyle:{"text-align":"center",height:"40px","line-height":"40px"},attrs:{span:4}},[a("i",{staticClass:"iconfont icon-zhixiang",staticStyle:{"font-size":"24px"}})]),a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.parameter_value,callback:function(a){e.$set(t,"parameter_value",a)},expression:"param.parameter_value"}},e._l(e.setLableList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label_name_chs,value:e.label_id+""}})}),1)],1),a("el-col",{staticStyle:{"text-align":"center",height:"40px","line-height":"40px"},attrs:{span:2}},[t.is_required?a("span",{staticStyle:{color:"#ff0000"}},[e._v("*")]):e._e()])],1)}),1):e._e()]):e._e()],1),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("卡片名称")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("操作按钮")])],1),e._l(4,function(t){return a("div",{key:t,staticClass:"text item"},[e._v("\n                                    "+e._s("列表内容 "+t)+"\n                                ")])})],2),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){e.relateAddDialog=!0}}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{title:"新增关联",visible:e.relateAddDialog,width:"30%"},on:{"update:visible":function(t){e.relateAddDialog=t},close:e.relateAddDialogClose}},[a("el-form",{ref:"RelateAddForm",attrs:{model:e.relateAddForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"relateName",label:"关联名称",rules:[{required:!0,message:"请输入关联名称",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"关联名称"},model:{value:e.relateAddForm.relateName,callback:function(t){e.$set(e.relateAddForm,"relateName",t)},expression:"relateAddForm.relateName"}})],1),a("el-form-item",{attrs:{prop:"relate_type",label:"关联类型",rules:[{required:!0,message:"请选择关联类型",trigger:"change"}]}},[a("el-select",{attrs:{clearable:"",placeholder:"关联类型"},model:{value:e.relateAddForm.relate_type,callback:function(t){e.$set(e.relateAddForm,"relate_type",t)},expression:"relateAddForm.relate_type"}},e._l(e.RelateType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{prop:"condition_expr",label:"条件表达式",rules:[{required:!0,message:"请输入条件表达式",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"条件表达式"},model:{value:e.relateAddForm.condition.condition_expr,callback:function(t){e.$set(e.relateAddForm.condition,"condition_expr",t)},expression:"relateAddForm.condition.condition_expr"}})],1),a("el-form-item",{attrs:{prop:"value_method",label:"取值方式",rules:[{required:!0,message:"请选择取值方式",trigger:"change"}]}},[a("el-select",{attrs:{clearable:"",placeholder:"取值方式"},model:{value:e.relateAddForm.condition.condition_item.value_method,callback:function(t){e.$set(e.relateAddForm.condition.condition_item,"value_method",t)},expression:"relateAddForm.condition.condition_item.value_method"}},e._l(e.ValueMethod,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{prop:"inner_value",label:"替换值"}},[a("el-input",{attrs:{placeholder:"替换值"},model:{value:e.relateAddForm.condition.condition_item.inner_value,callback:function(t){e.$set(e.relateAddForm.condition.condition_item,"inner_value",t)},expression:"relateAddForm.condition.condition_item.inner_value"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.relateAddDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.relateAdd}},[e._v("确 定")])],1)],1),e._v("\n                            @*"),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.currentLabelData.label_config.relate_config?e.currentLabelData.label_config.relate_config.relate_list:[]}},[a("el-table-column",{attrs:{prop:"relate_name",label:"关联名称",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"operator_str",label:"关联操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.getRelateRuleProp(t.row.operator_str))}})]}}],null,!1,1106853553)}),a("el-table-column",{attrs:{prop:"label",align:"center",label:"关联标签"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(t.row.label.label_name_chs)}})]}}],null,!1,4205040197)}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.relateDelete(t.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}],null,!1,2737724722)})],1),a("div",{staticStyle:{"text-align":"right",padding:"10px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",title:"新增",circle:""},on:{click:function(t){e.relateAddDialog=!0}}})],1),a("el-dialog",{attrs:{title:"新增关联",visible:e.relateAddDialog,width:"30%"},on:{"update:visible":function(t){e.relateAddDialog=t},close:e.relateAddDialogClose}},[a("el-form",{ref:"RelateAddForm",attrs:{model:e.relateAddForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"relateName",label:"关联名称",rules:[{required:!0,message:"请输入关联名称",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"关联名称"},model:{value:e.relateAddForm.relateName,callback:function(t){e.$set(e.relateAddForm,"relateName",t)},expression:"relateAddForm.relateName"}})],1),a("el-form-item",{attrs:{prop:"operatorStr",label:"关联操作",rules:[{required:!0,message:"请选择关联操作",trigger:"change"}]}},[a("el-select",{attrs:{clearable:"",placeholder:"关联操作"},model:{value:e.relateAddForm.operatorStr,callback:function(t){e.$set(e.relateAddForm,"operatorStr",t)},expression:"relateAddForm.operatorStr"}},e._l(e.RelateRule,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{prop:"label",label:"关联标签",rules:[{required:!0,message:"请选择关联标签",type:"number",trigger:"change"}]}},[a("el-select",{attrs:{clearable:"",placeholder:"关联标签"},model:{value:e.relateAddForm.label,callback:function(t){e.$set(e.relateAddForm,"label",t)},expression:"relateAddForm.label"}},e._l(e.getLabelsExceptSelf(),function(e,t){return a("el-option",{key:t,attrs:{label:e.label_name_chs,value:e.label_id}})}),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.relateAddDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.relateAdd}},[e._v("确 定")])],1)],1),e._v("*@\n                        ")],1),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"input_textarea"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"占位文本"}},[a("el-input",{attrs:{placeholder:"请输入占位文本"},model:{value:e.getLabelConfigItem("placeholder").value,callback:function(t){e.$set(e.getLabelConfigItem("placeholder"),"value",t)},expression:"getLabelConfigItem('placeholder').value"}})],1),a("el-form-item",{attrs:{label:"内容高度"}},[a("el-slider",{attrs:{range:"","show-stops":"",min:1,max:10},model:{value:e.getLabelConfigItem("autosize").value,callback:function(t){e.$set(e.getLabelConfigItem("autosize"),"value",t)},expression:"getLabelConfigItem('autosize').value"}})],1),a("el-form-item",{attrs:{label:"缩放"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("resize").value,callback:function(t){e.$set(e.getLabelConfigItem("resize"),"value",t)},expression:"getLabelConfigItem('resize').value"}},[a("el-radio",{attrs:{label:"none"}},[e._v("无")]),a("el-radio",{attrs:{label:"both"}},[e._v("二者都")]),a("el-radio",{attrs:{label:"horizontal"}},[e._v("横向")]),a("el-radio",{attrs:{label:"vertical"}},[e._v("纵向")])],1)],1),a("el-form-item",{attrs:{label:"是否可清空"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("clearable").value,callback:function(t){e.$set(e.getLabelConfigItem("clearable"),"value",t)},expression:"getLabelConfigItem('clearable').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"select"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"占位文本"}},[a("el-input",{attrs:{placeholder:"请输入占位文本"},model:{value:e.getLabelConfigItem("placeholder").value,callback:function(t){e.$set(e.getLabelConfigItem("placeholder"),"value",t)},expression:"getLabelConfigItem('placeholder').value"}})],1),a("el-form-item",{attrs:{label:"是否可清空"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("clearable").value,callback:function(t){e.$set(e.getLabelConfigItem("clearable"),"value",t)},expression:"getLabelConfigItem('clearable').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否可搜索"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("filterable").value,callback:function(t){e.$set(e.getLabelConfigItem("filterable"),"value",t)},expression:"getLabelConfigItem('filterable').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}},[a("div",[a("span",[e._v("数据源类型")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.handledDataTypeChange},model:{value:e.tempDataSourceConfig.data_source_type,callback:function(t){e.$set(e.tempDataSourceConfig,"data_source_type",t)},expression:"tempDataSourceConfig.data_source_type"}},e._l(e.DataSourceType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),e.tempDataSourceConfig.data_source_type===e.DataSourceType.Dict?a("div",{staticClass:"f-label-config-data-type"},[a("div",[a("span",[e._v("字典类型")]),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{change:e.handledDictTypeChange},model:{value:e.tempDataSourceConfig.dic_type_id,callback:function(t){e.$set(e.tempDataSourceConfig,"dic_type_id",t)},expression:"tempDataSourceConfig.dic_type_id"}},e._l(e.dictList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dic_par_name,value:e.dic_par_id}})}),1)],1),""!==e.tempDataSourceConfig.dic_type_id?a("div",{staticStyle:{"margin-top":"10px"}},[a("el-checkbox",{attrs:{indeterminate:e.dictIndeterminate},on:{change:e.handleDictIndeterminateCheckAll},model:{value:e.dictIndeterminateCheckAll,callback:function(t){e.dictIndeterminateCheckAll=t},expression:"dictIndeterminateCheckAll"}},[e._v("全选")])],1):e._e(),a("div",{staticClass:"f-label-config-data-dic-checkbox"},[a("el-checkbox-group",{on:{change:e.handledDictCheckedChange},model:{value:e.dictChecked,callback:function(t){e.dictChecked=t},expression:"dictChecked"}},e._l(e.dictPars,function(t){return a("el-checkbox",{key:t.dic_par_id,attrs:{label:t.dic_par_id}},[e._v(e._s(t.dic_par_name))])}),1)],1)]):e.tempDataSourceConfig.data_source_type===e.DataSourceType.Custom?a("div",{staticClass:"f-label-config-data-type"},[a("el-form",{ref:"dynamicValidateForm",attrs:{model:e.tempDataSourceConfig,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"value",label:"数据值",rules:[{required:!0,message:"请输入数据值",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:e.tempDataSourceConfig.value,callback:function(t){e.$set(e.tempDataSourceConfig,"value",t)},expression:"tempDataSourceConfig.value"}})],1),a("el-form-item",{attrs:{prop:"separator",label:"分割符",rules:[{required:!0,message:"请输入分割符",trigger:"blur"}]}},[a("el-input",{model:{value:e.tempDataSourceConfig.separator,callback:function(t){e.$set(e.tempDataSourceConfig,"separator",t)},expression:"tempDataSourceConfig.separator"}})],1),a("el-form-item",{attrs:{label:"结果预览"}},[a("span",{domProps:{textContent:e._s(e.getDataSourceConfigCustomResult())}})])],1)],1):e.tempDataSourceConfig.data_source_type===e.DataSourceType.DataApi?a("div",{staticClass:"f-label-config-data-type"},[a("div",[a("span",[e._v("数据源")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.handledDataApiChange},model:{value:e.tempDataSourceConfig.api_id,callback:function(t){e.$set(e.tempDataSourceConfig,"api_id",t)},expression:"tempDataSourceConfig.api_id"}},e._l(e.dataApis,function(e,t){return a("el-option",{key:t,attrs:{label:e.api_name,value:e.api_id}})}),1)],1),""!==e.tempDataSourceConfig.api_id?a("div",{staticStyle:{"margin-top":"10px"}},e._l(e.tempDataApiParam,function(t,l){return a("el-row",{key:l},[a("el-col",{staticStyle:{"text-align":"right",height:"40px","line-height":"40px"},attrs:{span:8}},[a("span",{domProps:{textContent:e._s(t.parameter_name_chs+" ("+(t.is_required?"必填":"选填")+")")}})]),a("el-col",{staticStyle:{"text-align":"center",height:"40px","line-height":"40px"},attrs:{span:4}},[a("i",{staticClass:"iconfont icon-zhixiang",staticStyle:{"font-size":"24px"}})]),a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.parameter_value,callback:function(a){e.$set(t,"parameter_value",a)},expression:"param.parameter_value"}},e._l(e.getLabelsExceptSelf(),function(e,t){return a("el-option",{key:t,attrs:{label:e.label_name_chs,value:e.label_id+""}})}),1)],1),a("el-col",{staticStyle:{"text-align":"center",height:"40px","line-height":"40px"},attrs:{span:2}},[t.is_required?a("span",{staticStyle:{color:"#ff0000"}},[e._v("*")]):e._e()])],1)}),1):e._e()]):e._e()]),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"radio"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否有边框"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("border").value,callback:function(t){e.$set(e.getLabelConfigItem("border"),"value",t)},expression:"getLabelConfigItem('border').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"checkbox"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否有边框"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("border").value,callback:function(t){e.$set(e.getLabelConfigItem("border"),"value",t)},expression:"getLabelConfigItem('border').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"time"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"占位文本"}},[a("el-input",{attrs:{placeholder:"请输入占位文本"},model:{value:e.getLabelConfigItem("placeholder").value,callback:function(t){e.$set(e.getLabelConfigItem("placeholder"),"value",t)},expression:"getLabelConfigItem('placeholder').value"}})],1),a("el-form-item",{attrs:{label:"是否可清空"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("clearable").value,callback:function(t){e.$set(e.getLabelConfigItem("clearable"),"value",t)},expression:"getLabelConfigItem('clearable').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"date"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"占位文本"}},[a("el-input",{attrs:{placeholder:"请输入占位文本"},model:{value:e.getLabelConfigItem("placeholder").value,callback:function(t){e.$set(e.getLabelConfigItem("placeholder"),"value",t)},expression:"getLabelConfigItem('placeholder').value"}})],1),a("el-form-item",{attrs:{label:"是否可清空"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("clearable").value,callback:function(t){e.$set(e.getLabelConfigItem("clearable"),"value",t)},expression:"getLabelConfigItem('clearable').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"switch"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"打开文字"}},[a("el-input",{attrs:{placeholder:"请输入打开时的文字"},model:{value:e.getLabelConfigItem("active-text").value,callback:function(t){e.$set(e.getLabelConfigItem("active-text"),"value",t)},expression:"getLabelConfigItem('active-text').value"}})],1),a("el-form-item",{attrs:{label:"关闭文字"}},[a("el-input",{attrs:{placeholder:"请输入关闭时的文字"},model:{value:e.getLabelConfigItem("inactive-text").value,callback:function(t){e.$set(e.getLabelConfigItem("inactive-text"),"value",t)},expression:"getLabelConfigItem('inactive-text').value"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"input_number"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"占位文本"}},[a("el-input",{attrs:{placeholder:"请输入占位文本"},model:{value:e.getLabelConfigItem("placeholder").value,callback:function(t){e.$set(e.getLabelConfigItem("placeholder"),"value",t)},expression:"getLabelConfigItem('placeholder').value"}})],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"按钮位置"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("controls-position").value,callback:function(t){e.$set(e.getLabelConfigItem("controls-position"),"value",t)},expression:"getLabelConfigItem('controls-position').value"}},[a("el-radio",{attrs:{label:"normal"}},[e._v("常规")]),a("el-radio",{attrs:{label:"right"}},[e._v("靠右")])],1)],1),a("el-form-item",{attrs:{label:"数值精度"}},[a("el-input",{attrs:{placeholder:"请输入数值精度"},model:{value:e.getLabelConfigItem("precision").value,callback:function(t){e.$set(e.getLabelConfigItem("precision"),"value",t)},expression:"getLabelConfigItem('precision').value"}})],1),a("el-form-item",{attrs:{label:"最小值"}},[a("el-input",{attrs:{placeholder:"请输入最小值"},model:{value:e.getLabelConfigItem("min").value,callback:function(t){e.$set(e.getLabelConfigItem("min"),"value",t)},expression:"getLabelConfigItem('min').value"}})],1),a("el-form-item",{attrs:{label:"最大值"}},[a("el-input",{attrs:{placeholder:"请输入最大值"},model:{value:e.getLabelConfigItem("max").value,callback:function(t){e.$set(e.getLabelConfigItem("max"),"value",t)},expression:"getLabelConfigItem('max').value"}})],1),a("el-form-item",{attrs:{label:"步长"}},[a("el-input",{attrs:{placeholder:"请输入步长"},model:{value:e.getLabelConfigItem("step").value,callback:function(t){e.$set(e.getLabelConfigItem("step"),"value",t)},expression:"getLabelConfigItem('step').value"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"slider"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"最小值"}},[a("el-input",{attrs:{placeholder:"请输入最小值"},model:{value:e.getLabelConfigItem("min").value,callback:function(t){e.$set(e.getLabelConfigItem("min"),"value",t)},expression:"getLabelConfigItem('min').value"}})],1),a("el-form-item",{attrs:{label:"最大值"}},[a("el-input",{attrs:{placeholder:"请输入最大值"},model:{value:e.getLabelConfigItem("max").value,callback:function(t){e.$set(e.getLabelConfigItem("max"),"value",t)},expression:"getLabelConfigItem('max').value"}})],1),a("el-form-item",{attrs:{label:"步长"}},[a("el-input",{attrs:{placeholder:"请输入步长"},model:{value:e.getLabelConfigItem("step").value,callback:function(t){e.$set(e.getLabelConfigItem("step"),"value",t)},expression:"getLabelConfigItem('step').value"}})],1),a("el-form-item",{attrs:{label:"是否显示断点"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("show-stops").value,callback:function(t){e.$set(e.getLabelConfigItem("show-stops"),"value",t)},expression:"getLabelConfigItem('show-stops').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否显示提示"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("show-tooltip").value,callback:function(t){e.$set(e.getLabelConfigItem("show-tooltip"),"value",t)},expression:"getLabelConfigItem('show-tooltip').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"格式化提示"}},[a("el-input",{attrs:{placeholder:"请输入格式化提示"},model:{value:e.getLabelConfigItem("format-tooltip").value,callback:function(t){e.$set(e.getLabelConfigItem("format-tooltip"),"value",t)},expression:"getLabelConfigItem('format-tooltip').value"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"rate"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}},[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"请输入分组名称"},model:{value:e.currentLabelData.label_config.control_config.group_name,callback:function(t){e.$set(e.currentLabelData.label_config.control_config,"group_name",t)},expression:"currentLabelData.label_config.control_config.group_name"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{placeholder:"请输入默认值"},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"是否只读"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("readonly").value,callback:function(t){e.$set(e.getLabelConfigItem("readonly"),"value",t)},expression:"getLabelConfigItem('readonly').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"是否可半选"}},[a("el-radio-group",{model:{value:e.getLabelConfigItem("allow-half").value,callback:function(t){e.$set(e.getLabelConfigItem("allow-half"),"value",t)},expression:"getLabelConfigItem('allow-half').value"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"最大值"}},[a("el-input",{attrs:{placeholder:"请输入最大值"},model:{value:e.getLabelConfigItem("max").value,callback:function(t){e.$set(e.getLabelConfigItem("max"),"value",t)},expression:"getLabelConfigItem('max').value"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"map_baidu"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}}),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):"map_gis"===e.currentLabelData.label_config.control_config.control_type?a("el-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"常规",name:"normal"}}),a("el-tab-pane",{attrs:{label:"验证",name:"validator"}}),a("el-tab-pane",{attrs:{label:"数据源",name:"data"}}),a("el-tab-pane",{attrs:{label:"关联",name:"relate"}}),a("el-tab-pane",{attrs:{label:"格式化",name:"format"}})],1):e._e()],1):e.currentLabelData.label_type===e.LabelType.variable?a("div",[a("el-form",{ref:"Form"+e.currentLabelData.label_id,attrs:{model:e.currentLabelData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签中文名",prop:"label_name_chs",rules:[{required:!0,message:"请输入标签中文名",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入标签中文名"},model:{value:e.currentLabelData.label_name_chs,callback:function(t){e.$set(e.currentLabelData,"label_name_chs",t)},expression:"currentLabelData.label_name_chs"}})],1),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.currentLabelData.data_type,callback:function(t){e.$set(e.currentLabelData,"data_type",t)},expression:"currentLabelData.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"是否传出参数"}},[a("el-radio-group",{model:{value:e.currentLabelData.label_config.is_parameter,callback:function(t){e.$set(e.currentLabelData.label_config,"is_parameter",t)},expression:"currentLabelData.label_config.is_parameter"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"取值方式"}},[a("el-select",{model:{value:e.currentLabelData.label_config.value_method,callback:function(t){e.$set(e.currentLabelData.label_config,"value_method",t)},expression:"currentLabelData.label_config.value_method"}},e._l(e.ValueMethod,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),e.currentLabelData.label_config.value_method===e.ValueMethod.Const?a("el-form-item",{attrs:{label:"值"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1):a("el-form-item",{attrs:{label:"值"}},[a("el-input",{staticStyle:{width:"270px"},attrs:{placeholder:"请输入内容",clearable:""},on:{focus:function(t){e.formulaDataVisible=!0}},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}}),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.formulaExampleDataVisible=!0}}},[e._v("点击参考")])],1)],1),a("el-dialog",{attrs:{title:"设置公式",visible:e.formulaDataVisible,width:"50%"},on:{"update:visible":function(t){e.formulaDataVisible=t}}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"0 0 220px"}},[a("div",[a("el-button",{staticStyle:{margin:"0 0 10px 10px"},on:{click:function(t){return e.formulaDataOperation(e.Operation.Plus)}}},[a("i",{staticClass:"iconfont icon-yunsuan-jia"})]),a("el-button",{staticStyle:{margin:"0 0 10px 10px"},on:{click:function(t){return e.formulaDataOperation(e.Operation.Minus)}}},[a("i",{staticClass:"iconfont icon-yunsuan-jian"})]),a("el-button",{staticStyle:{margin:"0 0 10px 10px"},on:{click:function(t){return e.formulaDataOperation(e.Operation.Multiply)}}},[a("i",{staticClass:"iconfont icon-yunsuan-cheng"})])],1),a("div",[a("el-button",{staticStyle:{margin:"0 0 10px 10px"},on:{click:function(t){return e.formulaDataOperation(e.Operation.Divide)}}},[a("i",{staticClass:"iconfont icon-yunsuan-chu"})]),a("el-button",{staticStyle:{margin:"0 0 10px 10px"},on:{click:function(t){return e.formulaDataOperation(e.Operation.LeftParentheses)}}},[a("i",{staticClass:"iconfont icon-yunsuan-zuokuohao"})]),a("el-button",{staticStyle:{margin:"0 0 10px 10px"},on:{click:function(t){return e.formulaDataOperation(e.Operation.RightParentheses)}}},[a("i",{staticClass:"iconfont icon-yunsuan-youkuohao"})])],1),a("div",[a("vue-scrollbar",{ref:"FormulaDataScrollbar",attrs:{classes:"formula-data-scrollbar"}},[a("div",{staticClass:"scroll-me"},e._l(e.getLabelsExceptSelf(),function(t,l){return a("div",{key:l,staticStyle:{padding:"5px 10px",cursor:"pointer"},on:{click:function(a){return e.formulaDataLabelClick(t)}}},[a("span",{staticStyle:{color:"#e6a23c"}},[e._v("@@")]),a("span",{domProps:{textContent:e._s(t.label_name_chs)}})])}),0)])],1)]),a("div",{staticStyle:{flex:"1"}},[a("div",{staticStyle:{"text-align":"right","margin-bottom":"10px"}},[a("el-button",{staticStyle:{"font-size":"17px"},attrs:{title:"清除",type:"warning"},on:{click:e.formulaDataClear}},[e._v("C")]),a("el-button",{attrs:{title:"撤回"},on:{click:e.formulaDataReturnBack}},[a("i",{staticClass:"iconfont icon-chexiao"})])],1),a("el-input",{attrs:{type:"textarea",autosize:{minRows:8,maxRows:12},resize:"none",placeholder:"请输入公式"},on:{change:e.formulaDataChange},model:{value:e.currentLabelData.default_value,callback:function(t){e.$set(e.currentLabelData,"default_value",t)},expression:"currentLabelData.default_value"}})],1)])]),a("el-dialog",{attrs:{title:"参考公式",visible:e.formulaExampleDataVisible,width:"50%"},on:{"update:visible":function(t){e.formulaExampleDataVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.formulaExampleData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"example",label:"例子"}})],1)],1)],1):e.currentLabelData.label_type===e.LabelType.condition?a("div"):a("div",{staticStyle:{padding:"150px 0","text-align":"center",color:"#808080"}},[e._v("\n                    请选择一个标签进行编辑\n                ")])]):e._e(),e.labelEditChange?a("div",{staticClass:"form-config-right-content-btn"},[a("el-button",{attrs:{type:"danger"},on:{click:e.removeLabel}},[e._v("删除组件")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveLabelConfig}},[e._v("保存组件")])],1):e._e()])])],1)},K=[],Y=(a("c5f6"),a("28a5"),a("f499")),ee=a.n(Y),te=a("e814"),ae=a.n(te),le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"f-label-template"},["input_base"===e.lableType||"input_suggest"===e.lableType||"input_autocomplete"===e.lableType?a("div",{staticClass:"el-input is-disabled"},[a("input",{staticClass:"el-input__inner",attrs:{type:"text",disabled:"disabled",autocomplete:"off",placeholder:"请输入内容"}})]):"input_textarea"===e.lableType?a("div",{staticClass:"el-textarea is-disabled"},[a("textarea",{staticClass:"el-textarea__inner",staticStyle:{resize:"none","min-height":"33px"},attrs:{disabled:"disabled",rows:"2",placeholder:"请输入内容"}})]):"select"===e.lableType?a("div",{staticClass:"el-select"},[e._m(0)]):"radio"===e.lableType?a("div",{staticClass:"el-radio-group"},[e._m(1),e._m(2),e._m(3)]):"checkbox"===e.lableType?a("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[e._m(4),e._m(5),e._m(6)]):"time"===e.lableType?a("div",{staticClass:"el-date-editor el-input is-disabled el-input--prefix el-input--suffix el-date-editor--time-select"},[a("input",{staticClass:"el-input__inner",attrs:{type:"text",disabled:"disabled",autocomplete:"off",name:"",placeholder:"选择时间"}}),e._m(7),e._m(8)]):"date"===e.lableType?a("div",{staticClass:"el-date-editor el-input is-disabled el-input--prefix el-input--suffix el-date-editor--date"},[a("input",{staticClass:"el-input__inner",attrs:{type:"text",disabled:"disabled",autocomplete:"off",name:"",placeholder:"选择日期"}}),e._m(9),e._m(10)]):"date_time"===e.lableType?a("div",{staticClass:"el-date-editor el-input is-disabled el-input--prefix el-input--suffix el-date-editor--datetime"},[a("input",{staticClass:"el-input__inner",attrs:{type:"text",disabled:"disabled",autocomplete:"off",name:"",placeholder:"选择日期时间"}}),e._m(11),e._m(12)]):"switch"===e.lableType?a("div",{staticClass:"el-switch is-disabled is-checked",attrs:{role:"switch","aria-checked":"true","aria-disabled":"true"}},[a("input",{staticClass:"el-switch__input",attrs:{type:"checkbox",name:"","true-value":"true",disabled:"disabled"}}),a("span",{staticClass:"el-switch__core",staticStyle:{width:"40px"}})]):"input_number"===e.lableType?a("div",{staticClass:"el-input-number is-disabled"},[e._m(13),e._m(14),e._m(15)]):"slider"===e.lableType?a("div",{staticClass:"el-slider",attrs:{role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-orientation":"horizontal","aria-disabled":"true","aria-valuetext":"50","aria-label":"slider between 0 and 100"}},[e._m(16)]):"rate"===e.lableType?a("div",{staticClass:"el-rate",attrs:{role:"slider","aria-valuenow":"3.7","aria-valuetext":"3.7","aria-valuemin":"0","aria-valuemax":"5",tabindex:"0"}},[e._m(17),e._m(18),e._m(19),e._m(20),e._m(21),a("span",{staticClass:"el-rate__text",staticStyle:{color:"rgb(255, 153, 0)"}},[e._v("3.7")])]):e._e()])},re=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-input is-disabled el-input--suffix"},[a("input",{staticClass:"el-input__inner",attrs:{type:"text",disabled:"disabled",readonly:"readonly",autocomplete:"off",placeholder:"请选择"}}),a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[a("i",{staticClass:"el-select__caret el-input__icon el-icon-arrow-up"})])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"el-radio is-checked",attrs:{role:"radio","aria-checked":"true",tabindex:"0"}},[a("span",{staticClass:"el-radio__input is-checked"},[a("span",{staticClass:"el-radio__inner"}),a("input",{staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",tabindex:"-1",value:"3"}})]),a("span",{staticClass:"el-radio__label"},[e._v("备选项1")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"el-radio",attrs:{role:"radio",tabindex:"-1"}},[a("span",{staticClass:"el-radio__input"},[a("span",{staticClass:"el-radio__inner"}),a("input",{staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",tabindex:"-1",value:"6"}})]),a("span",{staticClass:"el-radio__label"},[e._v("备选项2")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"el-radio",attrs:{role:"radio",tabindex:"-1"}},[a("span",{staticClass:"el-radio__input"},[a("span",{staticClass:"el-radio__inner"}),a("input",{staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",tabindex:"-1",value:"6"}})]),a("span",{staticClass:"el-radio__label"},[e._v("备选项3")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"el-checkbox is-checked",attrs:{role:"checkbox","aria-checked":"true"}},[a("span",{staticClass:"el-checkbox__input is-checked",attrs:{"aria-checked":"mixed"}},[a("span",{staticClass:"el-checkbox__inner"}),a("input",{staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":"true",value:"复选框 A"}})]),a("span",{staticClass:"el-checkbox__label"},[e._v("复选框 A")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"el-checkbox",attrs:{role:"checkbox"}},[a("span",{staticClass:"el-checkbox__input",attrs:{"aria-checked":"mixed"}},[a("span",{staticClass:"el-checkbox__inner"}),a("input",{staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":"true",value:"复选框 B"}})]),a("span",{staticClass:"el-checkbox__label"},[e._v("复选框 B")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"el-checkbox",attrs:{role:"checkbox"}},[a("span",{staticClass:"el-checkbox__input",attrs:{"aria-checked":"mixed"}},[a("span",{staticClass:"el-checkbox__inner"}),a("input",{staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":"true",value:"复选框 C"}})]),a("span",{staticClass:"el-checkbox__label"},[e._v("复选框 C")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-input__prefix"},[a("i",{staticClass:"el-input__icon el-icon-time"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[a("i",{staticClass:"el-input__icon"})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-input__prefix"},[a("i",{staticClass:"el-input__icon el-icon-date"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[a("i",{staticClass:"el-input__icon"})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-input__prefix"},[a("i",{staticClass:"el-input__icon el-icon-time"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[a("i",{staticClass:"el-input__icon"})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-input-number__decrease",attrs:{role:"button"}},[a("i",{staticClass:"el-icon-minus"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-input-number__increase",attrs:{role:"button"}},[a("i",{staticClass:"el-icon-plus"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-input is-disabled"},[a("input",{staticClass:"el-input__inner",attrs:{type:"text",disabled:"disabled",autocomplete:"off",max:"Infinity",min:"-Infinity",role:"spinbutton","aria-valuemax":"Infinity","aria-valuemin":"-Infinity","aria-valuenow":"1","aria-disabled":"true"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-slider__runway disabled"},[a("div",{staticClass:"el-slider__bar",staticStyle:{width:"50%",left:"0%"}}),a("div",{staticClass:"el-slider__button-wrapper",staticStyle:{left:"50%"},attrs:{tabindex:"0"}},[a("div",{staticClass:"el-slider__button el-tooltip",attrs:{"aria-describedby":"el-tooltip-5373",tabindex:"0"}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-rate__item",staticStyle:{cursor:"move"}},[a("i",{staticClass:"el-rate__icon el-icon-star-on",staticStyle:{color:"rgb(247, 186, 42)"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-rate__item",staticStyle:{cursor:"move"}},[a("i",{staticClass:"el-rate__icon el-icon-star-on",staticStyle:{color:"rgb(247, 186, 42)"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-rate__item",staticStyle:{cursor:"move"}},[a("i",{staticClass:"el-rate__icon el-icon-star-on",staticStyle:{color:"rgb(247, 186, 42)"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-rate__item",staticStyle:{cursor:"move"}},[a("i",{staticClass:"el-rate__icon el-icon-star-on",staticStyle:{color:"rgb(239, 242, 247)"}},[a("i",{staticClass:"el-rate__decimal el-icon-star-on",staticStyle:{color:"rgb(247, 186, 42)",width:"50%"}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-rate__item",staticStyle:{cursor:"move"}},[a("i",{staticClass:"el-rate__icon el-icon-star-on",staticStyle:{color:"rgb(239, 242, 247)"}})])}],oe={name:"LabelTemplate",props:{lableType:""}},ne=oe,ie=Object(s["a"])(ne,le,re,!1,null,"1ea0c532",null),se=ie.exports,ce=a("1980"),ue=a.n(ce),pe=a("011e"),de=a.n(pe),me={Number:0,String:1,Date:2},be={control:0,variable:1,condition:2},fe={Const:0,Formula:1},_e={"赋值":"assignment","加载地图":"loadmap","加载子下拉框":"loadsubselect"},ge={Dict:0,Custom:1,DataApi:2},ve={combine:0,visibility:1,address:2,location:3},he={Plus:0,Minus:1,Multiply:2,Divide:3,LeftParentheses:4,RightParentheses:5},ye={"不为空":"required","数字":"number","电话号码":"tel","Url地址":"url","邮箱":"email","身份证":"ID","数字大小":"numberSize","字符长度":"lengthSize","比较":"compare","正则":"regular"},xe=[{component_group:"表单标签",component_list:[{label_id:0,form_id:0,data_type:me.String,label_name_chs:"变量",form:null,default_value:"",label_type:be.variable,label_config:{is_parameter:!1,value_method:fe.Const}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"条件",form:null,default_value:"",label_type:be.condition,label_config:{condition_list:[]}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"普通文本",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"input_base",label_sort:0,group_name:"",control_options:[{key:"placeholder",value:""},{key:"clearable",value:!0},{key:"readonly",value:!1}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"搜索文本",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"input_autocomplete",label_sort:0,group_name:"",control_options:[{key:"placeholder",value:""},{key:"clearable",value:!0},{key:"readonly",value:!1},{key:"trigger-on-focus",value:!0}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"下拉选择",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"select",label_sort:0,group_name:"",control_options:[{key:"placeholder",value:""},{key:"clearable",value:!0},{key:"readonly",value:!1},{key:"filterable",value:!1}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"多行文本",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"input_textarea",label_sort:0,group_name:"",control_options:[{key:"placeholder",value:""},{key:"autosize",value:[2,5]},{key:"resize",value:"none"},{key:"clearable",value:!0},{key:"readonly",value:!1}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"单选框",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"radio",label_sort:0,group_name:"",control_options:[{key:"readonly",value:!1},{key:"border",value:!1}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"复选框",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"checkbox",label_sort:0,group_name:"",control_options:[{key:"readonly",value:!1},{key:"border",value:!1}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"时间选择",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"time",label_sort:0,group_name:"",control_options:[{key:"placeholder",value:""},{key:"readonly",value:!1},{key:"clearable",value:!1}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"日期选择",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"date",label_sort:0,group_name:"",control_options:[{key:"placeholder",value:""},{key:"readonly",value:!1},{key:"clearable",value:!1}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"是非选项",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"switch",label_sort:0,group_name:"",control_options:[{key:"readonly",value:!1},{key:"active-text",value:""},{key:"inactive-text",value:""}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"数字框",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"input_number",label_sort:0,group_name:"",control_options:[{key:"placeholder",value:""},{key:"readonly",value:!1},{key:"controls-position",value:"normal"},{key:"precision",value:0},{key:"min",value:0},{key:"max",value:10},{key:"step",value:1}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"滑块",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"slider",label_sort:0,group_name:"",control_options:[{key:"readonly",value:!1},{key:"min",value:0},{key:"max",value:10},{key:"step",value:1},{key:"show-stops",value:!0},{key:"show-tooltip",value:!0},{key:"format-tooltip",value:""}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}},{label_id:0,form_id:0,data_type:me.String,label_name_chs:"评分",form:null,default_value:"",label_type:be.control,label_config:{control_config:{control_type:"rate",label_sort:0,group_name:"",control_options:[{key:"readonly",value:!1},{key:"allow-half",value:!1},{key:"max",value:5}]},validator_list:[],data_source:null,relate_list:[],database_config:null,format_config:null}}]},{component_group:"展示标签",component_list:[{control_type:"html",label_name_chs:"HTML",label_id:0},{control_type:"rtf",label_name_chs:"富文本",label_id:0}]},{component_group:"扩展标签",component_list:[{control_type:"map_gis",label_name_chs:"GIS地图",label_id:0},{control_type:"map_baidu",label_name_chs:"百度地图",label_id:0}]}],Le=[{name:"抵押价值单价",example:"(@市场价值总价 -@优先受偿款 )/@建筑面积"},{name:"估价对象价值",example:"(@比较价值A +@比较价值B +@比较价值C )/3"},{name:"收益法：管理费",example:"@年有效毛收入 *3%"},{name:"收益法：其他收入",example:"@平均比准租金 *@一年期存款利率"},{name:"抵押价值总价",example:"@市场价值总价 -@优先受偿款"}];function De(e){var t;if(e instanceof Array){t=[];var a=e.length;while(a--)t[a]=De(e[a]);return t}if(e instanceof Object){for(var l in t={},e)t[l]=De(e[l]);return t}return e}function Ce(e,t){var a="";for(var l in e)e[l]===t&&(a=l);return a}var ke={name:"formEdit",components:{"paper-header":R,"label-template":se,draggable:ue.a,"vue-scrollbar":de.a},computed:Object(f["a"])({},Object($["c"])(["width","height"]),{dictParIds:function(){var e=[];return this.dictPars.forEach(function(t){e.push(t.dic_par_id)}),e}}),data:function(){return{FormComponents:xe,DataType:me,LabelType:be,RelateRule:_e,ValueMethod:fe,DataSourceType:ge,RelateType:ve,ValidatorType:ye,Operation:he,activeComponentsName:"表单标签",setLableList:[],currentLabelData:{},currentLabelindex:-1,oldLabelData:{},oldIndex:-1,labelActiveName:"control",tabActiveName:"normal",labelEditChange:!0,formId:ae()(this.$route.params.id),relateAddDialog:!1,relateAddForm:{relateName:"",relate_type:ve.combine,condition:{condition_expr:"",condition_item:{value_method:"",inner_value:""}}},validatorAddDialog:!1,validatorAddForm:{validatorName:"",validatorType:"",numberMin:"",numberMax:"",lengthMin:"",lengthMax:"",compareTarget:"",compareType:"",regular:"",errorMessage:""},tempDataSourceConfig:{data_source_type:"",dic_type_id:"",dic_par_ids:"",separator:"",value:"",api_id:"",api_name:"",request_parameter_map:[]},tempApiIdBak:"",dictIndeterminate:!1,dictIndeterminateCheckAll:!1,dictChecked:[],dictList:[],dictPars:[],dataApis:[],tempDataApiParam:[],formulaExampleData:Le,formulaExampleDataVisible:!1,formulaDataVisible:!1,formulaDataBak:[]}},methods:{returnBack:function(){this.$router.back()},updateData:function(e){this.updateSort(),console.log(this.setLableList)},addData:function(e){var t=this;this.setLableList=De(this.setLableList);for(var a=function(e){0===t.setLableList[e].label_id&&(t.setLableList[e].form_id=t.formId,t.$post("/api/Form/AddLabel",t.setLableList[e],function(){t.setLableList.splice(e,1)}).then(function(a){t.setLableList[e].label_id=a,t.updateSort()}))},l=0;l<this.setLableList.length;l++)a(l);console.log(this.setLableList)},updateSort:function(){var e=this,t=0;this.setLableList.forEach(function(a){a.label_type===be.control&&(a.label_config.label_sort!==t&&(a.label_sort=t,e.saveLabel(a)),t++)})},saveLabel:function(e){var t=this;this.$post("/api/Form/SaveLabel",e).then(function(a){console.log("保存Label",a),t.oldLabelData=De(e)})},settingData:function(e){var t=this;-1!==this.currentLabelindex&&ee()(this.oldLabelData)!==ee()(this.currentLabelData)?this.$confirm("未保存, 继续将不会保存更改！","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){t.setLableList[t.oldIndex]=t.oldLabelData,t.currentLabelindex=e,t.currentLabelData=t.setLableList[e],t.oldIndex=e,t.oldLabelData=De(t.currentLabelData),t.tabActiveName="normal",t.labelEditChange=!1,setTimeout(function(){t.labelEditChange=!0},0)}).catch(function(){}):(this.currentLabelindex=e,this.currentLabelData=this.setLableList[e],this.oldIndex=e,this.oldLabelData=De(this.currentLabelData),this.labelEditChange=!1,this.tabActiveName="normal",setTimeout(function(){t.labelEditChange=!0},0)),this.initDataSourceConfig()},initDataSourceConfig:function(){if(this.dictPars.splice(0,this.dictPars.length),this.currentLabelData.label_config.data_source){for(var e in this.currentLabelData.label_config.data_source)"dic_par_ids"===e?(this.dictChecked=this.currentLabelData.label_config.data_source[e].split(",").map(Number),this.dictIndeterminateCheckAll=this.dictChecked.length===this.dictPars.length):this.tempDataSourceConfig[e]=this.currentLabelData.label_config.data_source[e];this.tempDataSourceConfig.api_id&&this.handledDataApiChange(this.tempDataSourceConfig.api_id),this.tempDataSourceConfig.dic_type_id&&this.getDictPars()}else this.tempDataSourceConfig={data_source_type:"",dic_type_id:"",dic_par_ids:"",separator:"",value:"",api_id:"",api_name:"",parameter_list:[]}},handledDataTypeChange:function(e){this.tempDataSourceConfig={data_source_type:e,dic_type_id:"",dic_par_ids:"",separator:"",value:"",api_id:"",api_name:"",request_parameter_map:[]},this.tempDataApiParam.splice(0,this.tempDataApiParam.length)},handledDictTypeChange:function(e){var t=this;this.getDictPars(function(){t.dictChecked.splice(0,t.dictChecked.length),t.currentLabelData.label_config.data_source.dic_type_id===e&&(t.dictChecked=t.currentLabelData.label_config.data_source.dic_par_ids.split(",").map(Number)),t.dictIndeterminateCheckAll=t.dictChecked.length===t.dictPars.length})},handleDictIndeterminateCheckAll:function(e){this.dictChecked=e?this.dictParIds:[],this.dictIndeterminate=!1},handledDictCheckedChange:function(e){var t=e.length;this.dictIndeterminateCheckAll=t===this.dictPars.length,this.dictIndeterminate=t>0&&t<this.dictPars.length},getDataSourceConfigCustomResult:function(){var e="";if(""!==this.tempDataSourceConfig.value&&""!==this.tempDataSourceConfig.separator){var t=this.tempDataSourceConfig.value.split(this.tempDataSourceConfig.separator);t.forEach(function(t){e+=""===e?'"'+t+'"':',"'+t+'"'})}return"["+e+"]"},handledDataApiChange:function(e){var t=this;this.tempDataApiParam.splice(0,this.tempDataApiParam.length),this.dataApis.forEach(function(a){a.api_id===e&&(t.currentLabelData.label_config.data_source&&t.currentLabelData.label_config.data_source.api_id&&t.currentLabelData.label_config.data_source.api_id===e?a.request_parameter_list.forEach(function(e){t.tempDataApiParam.push({parameter_name:e.parameter_name,parameter_name_chs:e.parameter_name_chs,is_required:e.is_required,parameter_value:t.currentLabelData.label_config.data_source.request_parameter_map[e.parameter_name]})}):a.request_parameter_list.forEach(function(e){t.tempDataApiParam.push({parameter_name:e.parameter_name,parameter_name_chs:e.parameter_name_chs,is_required:e.is_required,parameter_value:""})}))})},getApiName:function(e){var t="";return this.dataApis.forEach(function(a){a.api_id===e&&(t=a.api_name)}),t},getLabelConfigItem:function(e){var t=null;return this.currentLabelData.label_config.control_config.control_options.forEach(function(a){a.key===e&&(t=a)}),t},saveLabelConfig:function(){var e=this;this.$refs["Form"+this.currentLabelData.label_id].validate(function(t){if(t){e.currentLabelData.label_config.data_source=null;var a="";if(e.tempDataSourceConfig.data_source_type===ge.Custom)e.$refs.dynamicValidateForm.validate(function(t){t?e.currentLabelData.label_config.data_source={data_source_type:e.tempDataSourceConfig.data_source_type,separator:e.tempDataSourceConfig.separator,value:e.tempDataSourceConfig.value}:a="自定义数据源配置错误！"});else if(e.tempDataSourceConfig.data_source_type===ge.Dict)""!==e.tempDataSourceConfig.dic_type_id&&e.dictChecked.length>0?e.currentLabelData.label_config.data_source={data_source_type:e.tempDataSourceConfig.data_source_type,dic_type_id:e.tempDataSourceConfig.dic_type_id,dic_par_ids:e.dictChecked.join(",")}:a="字典数据源配置错误！";else if(e.tempDataSourceConfig.data_source_type===ge.DataApi)if(""!==e.tempDataSourceConfig.api_id){var l=!0,r={};e.tempDataApiParam.forEach(function(e){e.is_required&&""===e.parameter_value&&(l=!1),r[e.parameter_name]=e.parameter_value}),l?e.currentLabelData.label_config.data_source={data_source_type:e.tempDataSourceConfig.data_source_type,api_id:e.tempDataSourceConfig.api_id,api_name:e.getApiName(e.tempDataSourceConfig.api_id),request_parameter_map:r}:a="Api数据源配置错误！"}else a="Api数据源配置错误！";""!==a?e.$message({type:"error",message:a}):e.saveLabel(e.currentLabelData)}})},removeLabel:function(){var e=this;this.$confirm("此操作将移除该组件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={labelId:e.currentLabelData.label_id};e.$get("/api/Form/DelLabel",t).then(function(t){console.log("删除标签",t),e.currentLabelindex=-1,e.currentLabelData={},e.getLabelList()})}).catch(function(){})},getLabelList:function(){var e=this,t={formId:this.formId};this.$get("/api/Form/GetLabelList",t).then(function(t){console.log("获取LabelList",t),e.setLableList=t})},getForm:function(){var e={formId:this.formId};this.$get("/api/Form/Get",e).then(function(e){console.log("获取Form",e)})},getLabelsExceptSelf:function(){var e=this,t=[];return this.setLableList.forEach(function(a){a.label_id!==e.currentLabelData.label_id&&t.push(a)}),t},getLabelByLabelId:function(e){var t=null;return this.setLableList.forEach(function(a){a.label_id===e&&(t=a)}),t},validatorAddDialogClose:function(){this.$refs.ValidatorAddForm.resetFields()},validatorAdd:function(){this.$refs.ValidatorAddForm.validate(function(e){})},relateAddDialogClose:function(){this.$refs.RelateAddForm.resetFields()},relateAdd:function(){var e=this;this.$refs.RelateAddForm.validate(function(t){if(t){var a={label_id:e.currentLabelData.label_id,relate_name:e.relateAddForm.relateName,operator_str:e.relateAddForm.operatorStr,label:e.getLabelByLabelId(e.relateAddForm.label)};e.currentLabelData.label_config.relate_config?e.currentLabelData.label_config.relate_config.relate_list.push(a):e.currentLabelData.label_config.relate_config={relate_list:[a]},e.relateAddDialog=!1}})},relateDelete:function(e){this.currentLabelData.label_config.relate_config.relate_list.splice(e,1)},getRelateRuleProp:function(e){return Ce(this.RelateRule,e)},getDataApi:function(){var e=this,t={name:""};this.$get("/api/DataApi/Index",t).then(function(t){e.dataApis=t,console.log("DataApi",t)})},formulaDataReturnBack:function(){this.currentLabelData.default_value="",this.formulaDataBak.length>0&&this.formulaDataBak.splice(this.formulaDataBak.length-1,1),this.formulaDataBak.length>0&&(this.currentLabelData.default_value=this.formulaDataBak[this.formulaDataBak.length-1])},formulaDataOperation:function(e){var t="";switch(e){case he.Plus:t="+";break;case he.Minus:t="-";break;case he.Multiply:t="*";break;case he.Divide:t="/";break;case he.LeftParentheses:t="(";break;case he.RightParentheses:t=")";break}this.currentLabelData.default_value?this.currentLabelData.default_value+=t:this.currentLabelData.default_value=t,this.formulaDataBak.push(this.currentLabelData.default_value)},formulaDataLabelClick:function(e){this.currentLabelData.default_value?this.currentLabelData.default_value+=" @"+e.label_name_chs+" ":this.currentLabelData.default_value=" @"+e.label_name_chs+" ",this.formulaDataBak.push(this.currentLabelData.default_value)},formulaDataClear:function(){this.currentLabelData.default_value="",this.formulaDataBak.splice(0,this.formulaDataBak.length)},formulaDataChange:function(e){this.formulaDataBak.push(this.currentLabelData.default_value)},getDictList:function(){var e=this;this.$get("/api/Data/GetDictTypeList").then(function(t){e.dictList=t,console.log("dictList",t)})},getDictPars:function(e){var t=this,a={dicTypeId:this.tempDataSourceConfig.dic_type_id};this.$get("/api/Data/GetDictList",a).then(function(a){t.dictPars=a,console.log("dictPars",a),e&&e()})},initStyle:function(){document.getElementById("FormLabelContent").style.maxHeight=height-106+"px"}},mounted:function(){this.getForm(),this.getLabelList(),this.getDataApi(),this.getDictList()}},Se=ke,Fe=(a("37a3"),Object(s["a"])(Se,X,K,!1,null,"7cd007b2",null)),$e=Fe.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-preview"},[a("paper-header",{attrs:{back:e.returnBack},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("表单预览")]},proxy:!0},{key:"button",fn:function(){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.previewFormSetVisible=!0}}},[e._v("表单样式")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitPreviewForm}},[e._v("提交测试")])]},proxy:!0}])}),a("div",{staticClass:"content",style:{width:e.width-40+"px",height:e.height-52+"px"}},[a("dynamic-form",{ref:"DynamicForm",attrs:{"form-id":e.formId,"label-width":e.labelWidth,"label-align":e.align,"form-column":e.column,"base-config":{userId:1,customerId:1,pcaCode:"4307"},"on-success":e.onSuccess,"on-error":e.onError,"on-empty":e.onEmpty}}),a("el-dialog",{attrs:{title:"表单样式",visible:e.previewFormSetVisible,top:"20vh",width:"40%"},on:{"update:visible":function(t){e.previewFormSetVisible=t}}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input-number",{attrs:{min:40,max:200,step:10},model:{value:e.labelWidth,callback:function(t){e.labelWidth=t},expression:"labelWidth"}})],1),a("el-form-item",{attrs:{label:"排列样式"}},[a("el-radio-group",{model:{value:e.column,callback:function(t){e.column=t},expression:"column"}},[a("el-radio",{attrs:{label:1}},[e._v("一列")]),a("el-radio",{attrs:{label:2}},[e._v("两列")]),a("el-radio",{attrs:{label:3}},[e._v("三列")])],1)],1),a("el-form-item",{attrs:{label:"对齐方式"}},[a("el-radio-group",{model:{value:e.align,callback:function(t){e.align=t},expression:"align"}},[a("el-radio",{attrs:{label:"right"}},[e._v("右对齐")]),a("el-radio",{attrs:{label:"left"}},[e._v("左对齐")]),a("el-radio",{attrs:{label:"top"}},[e._v("顶部对齐")])],1)],1)],1)],1)],1)],1)},we=[],Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ElForm",attrs:{model:e.formModel,"label-width":e.labelWidth+"px","label-position":e.labelAlign,inline:!0}},e._l(e.labelData,function(t,l){return 0===t.label.label_type?a("el-form-item",{style:{width:e.getFormItemWidth()+"px"},attrs:{label:t.label.label_name_chs,prop:t.label_id+"",rules:e.rules[l]}},["input_base"===t.label.label_config.control_config.control_type?a("el-input",{ref:"Input_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()+"px"},attrs:{placeholder:e.getLabelControlOptions(l,"placeholder"),clearable:e.getLabelControlOptions(l,"clearable"),readonly:e.getLabelControlOptions(l,"readonly")},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}}):e._e(),"input_autocomplete"===t.label.label_config.control_config.control_type?a("el-autocomplete",{ref:"Auto_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()+"px"},attrs:{placeholder:e.getLabelControlOptions(l,"placeholder"),clearable:e.getLabelControlOptions(l,"clearable"),readonly:e.getLabelControlOptions(l,"readonly"),"trigger-on-focus":e.getLabelControlOptions(l,"trigger-on-focus"),"fetch-suggestions":e.autocompleteSearch(l)},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}}):e._e(),"input_textarea"===t.label.label_config.control_config.control_type?a("el-input",{ref:"TextArea_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()+"px"},attrs:{type:"textarea",placeholder:e.getLabelControlOptions(l,"placeholder"),autosize:{minRows:e.getLabelControlOptions(l,"autosize")[0],maxRows:e.getLabelControlOptions(l,"autosize")[1]},resize:e.getLabelControlOptions(l,"resize"),readonly:e.getLabelControlOptions(l,"readonly")},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}}):e._e(),"select"===t.label.label_config.control_config.control_type?a("el-select",{ref:"Select_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()+"px"},attrs:{placeholder:e.getLabelControlOptions(l,"placeholder"),filterable:e.getLabelControlOptions(l,"filterable"),clearable:e.getLabelControlOptions(l,"clearable"),readonly:e.getLabelControlOptions(l,"readonly")},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}},e._l(e.getLabelValueOption(l),function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),"radio"===t.label.label_config.control_config.control_type?a("el-radio-group",{ref:"Radio_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()+"px"},attrs:{readonly:t.label.label_option.readonly},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}},e._l(e.getLabelValueOption(l),function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v("\n                "+e._s(t.label)+"\n            ")])}),1):e._e(),"checkbox"===t.label.label_config.control_config.control_type?a("el-checkbox-group",{ref:"CheckBox_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()+"px"},attrs:{readonly:t.label.label_option.readonly},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}},e._l(e.getLabelValueOption(l),function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v("\n                "+e._s(t.label)+"\n            ")])}),1):e._e(),"switch"===t.label.label_config.control_config.control_type?a("el-switch",{ref:"Switch_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()+"px"},attrs:{readonly:t.label.label_option.readonly,"active-color":t.label.label_option.activeColor,"inactive-color":t.label.label_option.inactiveColor,"active-text":t.label.label_option.activeText,"inactive-text":t.label.label_option.inactiveText},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}}):e._e(),"rate"===t.label.label_config.control_config.control_type?a("el-rate",{ref:"Rate_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()+"px"},attrs:{disabled:t.label.label_option.disabled,max:t.label.label_option.max,"allow-half":t.label.label_option.allowHalf,iconClasses:e.getRateIconClasses(l),"void-icon-class":e.getRateVoidIconClasses(l),"show-text":e.getRateShowModel(l),"show-score":!e.getRateShowModel(l),texts:e.getRateTexts(l)},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}}):e._e(),"slider"===t.label.label_config.control_config.control_type?a("el-slider",{ref:"Slider_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()+"px"},attrs:{disabled:t.label.label_option.disabled,min:t.label.label_option.min,max:t.label.label_option.max,step:t.label.label_option.step,"show-stops":t.label.label_option.showStops,"show-tooltip":t.label.label_option.showTooltip,range:t.label.label_option.range,"format-tooltip":e.getFormatTooltipFn(l)},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}}):e._e(),"input_number"===t.label.label_config.control_config.control_type?a("el-input-number",{ref:"Number_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()>300?300:e.getFormItemInputWidth()+"px"},attrs:{disabled:t.label.label_option.disabled,min:t.label.label_option.min,max:t.label.label_option.max,step:t.label.label_option.step,precision:t.label.label_option.precision,controls:t.label.label_option.controls,"controls-position":t.label.label_option.controlsPosition},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}}):e._e(),"time"===t.label.label_config.control_config.control_type?a("el-time-picker",{ref:"Time_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()>300?300:e.getFormItemInputWidth()+"px"},attrs:{placeholder:t.label.label_option.placeholder,readonly:t.label.label_option.readonly,clearable:t.label.label_option.clearable,"arrow-control":t.label.label_option.arrowControl,editable:t.label.label_option.editable,"value-format":t.label.label_option.valueFormat,format:t.label.label_option.format,"picker-options":e.getTimePickerOptions(l),"is-range":t.label.label_option.isRange,"range-separator":t.label.label_option.rangeSeparator,"start-placeholder":t.label.label_option.startPlaceholder,"end-placeholder":t.label.label_option.endPlaceholder},on:{change:e.timeChange},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}}):e._e(),"date"===t.label.label_config.control_config.control_type?a("el-date-picker",{ref:"Date_"+l,refInFor:!0,style:{width:e.getFormItemInputWidth()>300?300:e.getFormItemInputWidth()+"px"},attrs:{placeholder:t.label.label_option.placeholder,readonly:t.label.label_option.readonly,clearable:t.label.label_option.clearable,type:t.label.label_option.type,editable:t.label.label_option.editable,"value-format":t.label.label_option.valueFormat,format:t.label.label_option.format,align:t.label.label_option.align,"range-separator":t.label.label_option.rangeSeparator,"start-placeholder":t.label.label_option.startPlaceholder,"end-placeholder":t.label.label_option.endPlaceholder,"default-time":"daterange"===t.label.label_option.type?["00:00:00","23:59:59"]:""},on:{change:e.timeChange},model:{value:t.label.default_value,callback:function(a){e.$set(t.label,"default_value",a)},expression:"item.label.default_value"}}):e._e()],1):e._e()}),1)},Ee=[],Te={name:"DynamicForm",props:{labelWidth:{type:Number,default:120},labelAlign:{type:String,default:"right"},formColumn:{type:Number,default:1},formId:{type:Number,require:!0},baseConfig:{type:Object,require:!0},onSuccess:Function,onError:Function,onEmpty:Function},data:function(){return{formWith:0,labelData:[],LabelValueOptions:[],formModel:{},rules:[],validator_list:[[],[],[{validatorName:"",validatorType:"required",numberMin:"",numberMax:"",lengthMin:"",lengthMax:"",compareTarget:"",compareType:"",regular:"",errorMessage:"楼盘地址必填"},{validatorName:"",validatorType:"lengthSize",numberMin:"",numberMax:"",lengthMin:10,lengthMax:20,compareTarget:"",compareType:"",regular:"",errorMessage:"字符长度错误"}],[{validatorName:"",validatorType:"required",numberMin:"",numberMax:"",lengthMin:"",lengthMax:"",compareTarget:"",compareType:"",regular:"",errorMessage:"我是必选"}],[],[],[],[],[],[],[],[],[],[],[]]}},methods:{getForm:function(){var e=this,t={formId:this.formId};this.$get("/api/Form/Get",t).then(function(t){console.log("获取Form",t),e.getLabelList()})},getLabelList:function(){var e=this,t={formId:this.formId};this.$get("/api/Form/GetLabelList",t).then(function(t){console.log("获取LabelList",t),e.initLabelData(t)})},initLabelData:function(e){var t=this;this.labelData.splice(0,this.labelData.length),e.forEach(function(e){var a={label_id:e.label_id,label_name_chs:e.label_name_chs,label_value:e.default_value,label:e};t.labelData.push(a),t.formModel[e.label_id]=e.label_value}),this.labelData.length>0?(this.initLabelValueOptions(),this.initValidatorRules(),this.onSuccess&&this.onSuccess()):this.onEmpty&&this.onEmpty(),console.log(this.labelData)},initLabelValueOptions:function(){var e=this;this.LabelValueOptions.splice(0,this.LabelValueOptions.length),this.labelData.forEach(function(t,a){var l=t.label;if(0===l.label_type&&("select"===l.label_config.control_config.control_type||"radio"===l.label_config.control_config.control_type||"checkbox"===l.label_config.control_config.control_type))if(0===l.label_config.data_source.data_source_type)e.getDicSource(l.label_config.data_source.dic_type_id,function(t){var r=[],o=l.label_config.data_source.dic_par_ids.split(",");o.forEach(function(e){for(var a=0;a<t.length;a++)if(e===t[a].dic_par_id+""){r.push({label:t[a].dic_par_name,value:e});break}}),e.LabelValueOptions.push({index:a,data:r})});else if(1===l.label_config.data_source.data_source_type){var r=[],o=l.label_config.data_source.value.split(l.label_config.data_source.separtor);o.forEach(function(e){r.push({value:e,label:e})}),e.LabelValueOptions.push({index:a,data:r})}else{var n=[];for(var i in l.label_config.data_source.request_parameter_map)n.push({parameter_name:i,value:e.getParamValue(l.label_config.data_source.request_parameter_map[i])});e.getDataSource(l.label_config.data_source.api_id,n,function(t){e.getDataApi(l.label_config.data_source.api_name,function(l){var r=[];t.forEach(function(e){var t={};l[0].response_parameter_list.forEach(function(a){t[a.parameter_name_chs]=e[a.parameter_name.toUpperCase()]}),r.push(t)}),e.LabelValueOptions.push({index:a,data:r})})})}})},initValidatorRules:function(){var e=this;this.rules.splice(0,this.rules.length),this.labelData.forEach(function(t,a){var l=t.label,r=[];0===l.label_type&&e.validator_list[a].forEach(function(t){var a={trigger:"select"===l.label_config.control_config.control_type?"change":"blur",validator:e.getValidator(t),message:t.errorMessage};r.push(a)}),e.rules.push(r)}),console.log(this.rules)},getValidator:function(e){var t=this;return function(a,l,r,o,n){var i="";if(t.labelData.forEach(function(e){e.label_id===ae()(a.field)&&(i=e.label.default_value)}),"required"===e.validatorType)i&&""!==i?r():r(new Error);else if("number"===e.validatorType)i&&!isNaN(i)?r():r(new Error);else if("email"===e.validatorType){var s=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;i&&s.test(i)?r():r(new Error)}else if("tel"===e.validatorType){var c=/^1\d{10}$/,u=/^0\d{2,3}-?\d{7,8}$/;i&&(c.test(i)||u.test(i))?r():r(new Error)}else if("url"===e.validatorType){var p=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;i&&p.test(i)?r():r(new Error)}else if("ID"===e.validatorType){var d=/^\d{15}|\d{}18$/;i&&d.test(i)?r():r(new Error)}else if("numberSize"===e.validatorType)i>=e.numberMin&&i<=e.numberMax?r():r(new Error);else if("lengthSize"===e.validatorType)i.length>=e.lengthMin&&i.length<=e.lengthMax?r():r(new Error);else if("compare"===e.validatorType){var m="";t.labelData.forEach(function(t){t.label_id===e.compareTarget&&(m=t.label.default_value)}),0===e.compareType?i>m?r():r(new Error):1===e.compareType?i===m?r():r(new Error):2===e.compareType&&(i<m?r():r(new Error))}else if("regular"===e.validatorType){var b=e.regular;i&&b.test(i)?r():r(new Error)}}},getDicSource:function(e,t){var a={dicTypeId:e};this.$get("/api/Data/GetDictList",a).then(function(e){t(e)})},getDataApi:function(e,t){var a={name:e};this.$get("/api/DataApi/Index",a).then(function(e){t(e)})},getDataSource:function(e,t,a){var l={apiId:e,request:t};this.$post("/api/Data/ListData",l).then(function(e){a(e)})},getParamValue:function(e){var t="";return this.labelData.forEach(function(a){var l=a.label;l.label_id===ae()(e)&&(t=l.default_value)}),t},getLabelDataList:function(){return this.labelData},getLabelControlOptions:function(e,t){var a=null,l=this.labelData[e].label.label_config.control_config.control_options;return l.forEach(function(e){e.key===t&&(a=e.value)}),a},getLabelValueOption:function(e){var t=[];return this.LabelValueOptions.forEach(function(a){e===a.index&&(t=a.data)}),t},autocompleteSearch:function(e){var t=this;return function(a,l){var r=t.labelData[e].label,o=[];for(var n in r.label_config.data_source.request_parameter_map)o.push({parameter_name:n,value:t.getParamValue(r.label_config.data_source.request_parameter_map[n])});t.getDataSource(r.label_config.data_source.api_id,o,function(e){console.log("res",e),t.getDataApi(r.label_config.data_source.api_name,function(t){var a=[];e.forEach(function(e){var l={};t[0].response_parameter_list.forEach(function(t){l[t.parameter_name_chs]=e[t.parameter_name.toUpperCase()]}),a.push(l)}),l(a)})})}},getFormItemInputWidth:function(){return"top"===this.labelAlign?this.getFormItemWidth():this.getFormItemWidth()-this.labelWidth},getFormItemWidth:function(){return this.formWith/this.formColumn-10},dropMenuClose:function(){for(var e in this.$refs)-1===e.indexOf("Select")&&-1===e.indexOf("Time")&&-1===e.indexOf("Date")||this.$refs[e][0].handleClose(),-1!==e.indexOf("Auto")&&this.$refs[e][0].close(),-1!==e.indexOf("Cascader")&&this.$refs[e][0].handleClickoutside()},refreshFrom:function(){this.getForm()},submitForm:function(e){var t=this;this.$refs.ElForm.validate(function(a){if(a){var l={form_id:t.formId,label_data_list:t.labelData};t.$post("/api/Form/Submit",l).then(function(t){console.log("提交表单",t),"function"===typeof e&&e()})}})}},mounted:function(){this.getForm(),this.formWith=this.$refs.ElForm.$el.getBoundingClientRect().width}},qe=Te,Oe=Object(s["a"])(qe,Ae,Ee,!1,null,"0741e6ec",null),Ne=Oe.exports,Pe={name:"formPreview",components:{"paper-header":R,"dynamic-form":Ne},computed:Object(f["a"])({},Object($["c"])(["width","height"])),data:function(){return{labelWidth:120,column:1,align:"right",formId:ae()(this.$route.params.id),previewFormSetVisible:!1}},methods:{returnBack:function(){this.$router.back()},onSuccess:function(){console.log("加载成功")},onError:function(e){console.log(e)},onEmpty:function(){console.log("空表单")},submitPreviewForm:function(){this.$refs.DynamicForm.submitForm(function(){console.log("表单提交完成")})}}},Me=Pe,ze=(a("9abf"),Object(s["a"])(Me,Ie,we,!1,null,"ed0b9598",null)),Re=ze.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-source-edit"},[a("paper-header",{attrs:{back:e.returnBack},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("数据源编辑")]},proxy:!0},{key:"button",fn:function(){return[a("el-button",{attrs:{size:"mini"}},[e._v("刷新")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.save}},[e._v("保存")])]},proxy:!0}])}),a("div",{staticClass:"content",style:{width:e.width-40+"px",height:e.height-52+"px"}},[a("el-form",{ref:"CustomerForm",attrs:{model:e.customerForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"数据源名称",prop:"api_name",rules:[{required:!0,message:"请输入数据源名称",trigger:"blur"}]}},[a("el-input",{model:{value:e.customerForm.api_name,callback:function(t){e.$set(e.customerForm,"api_name",t)},expression:"customerForm.api_name"}})],1),a("el-form-item",{attrs:{label:"SQL语句",prop:"sql_content",rules:[{required:!0,message:"请输入SQL语句",trigger:"blur"}]}},[a("div",{staticStyle:{position:"relative"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.customerForm.sql_content,callback:function(t){e.$set(e.customerForm,"sql_content",t)},expression:"customerForm.sql_content"}}),a("el-button",{staticStyle:{position:"absolute",right:"20px",bottom:"0"},attrs:{title:"格式化",type:"text"},on:{click:e.sqlContentFromat}},[a("i",{staticClass:"iconfont icon-format_icon",staticStyle:{"font-size":"24px"}})])],1)]),e.customerForm.request_parameter_list.length>0?a("el-form-item",{attrs:{label:"请求参数",prop:"request_parameter_list"}},[a("el-row",{staticStyle:{"text-align":"center"}},[a("el-col",{attrs:{span:6}},[e._v("参数名称")]),a("el-col",{attrs:{span:6}},[e._v("参数中文名称")]),a("el-col",{attrs:{span:6}},[e._v("数据类型")]),a("el-col",{attrs:{span:6}},[e._v("是否必填")])],1),e._l(e.customerForm.request_parameter_list,function(t,l){return a("el-row",{key:l,staticStyle:{"text-align":"center",padding:"5px 0"},attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[e._v(e._s(t.parameter_name))]),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.parameter_name_chs,callback:function(a){e.$set(t,"parameter_name_chs",a)},expression:"param.parameter_name_chs"}})],1),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.data_type,callback:function(a){e.$set(t,"data_type",a)},expression:"param.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-col",{attrs:{span:6}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.is_required,callback:function(a){e.$set(t,"is_required",a)},expression:"param.is_required"}})],1)],1)})],2):e._e(),e.customerForm.response_parameter_list.length>0?a("el-form-item",{attrs:{label:"返回参数",prop:"response_parameter_list"}},[a("el-row",{staticStyle:{"text-align":"center"}},[a("el-col",{attrs:{span:6}},[e._v("参数名称")]),a("el-col",{attrs:{span:6}},[e._v("参数中文名称")]),a("el-col",{attrs:{span:6}},[e._v("数据类型")]),a("el-col",{attrs:{span:6}},[e._v("是否必填")])],1),e._l(e.customerForm.response_parameter_list,function(t,l){return a("el-row",{key:l,staticStyle:{"text-align":"center",padding:"5px 0"},attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[e._v(e._s(t.parameter_name))]),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.parameter_name_chs,callback:function(a){e.$set(t,"parameter_name_chs",a)},expression:"param.parameter_name_chs"}})],1),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.data_type,callback:function(a){e.$set(t,"data_type",a)},expression:"param.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1)],1)})],2):e._e(),a("el-form-item",{attrs:{label:"描述",prop:"api_desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.customerForm.api_desc,callback:function(t){e.$set(e.customerForm,"api_desc",t)},expression:"customerForm.api_desc"}})],1)],1)],1)],1)},je=[],Be={name:"dataSourceEdit",components:{"paper-header":R},data:function(){return{DataType:me,customerForm:{api_id:"",api_name:"",api_desc:"",api_url:"",sql_content:"",fsq_db_name:"",request_parameter_list:[],response_parameter_list:[]}}},computed:Object(f["a"])({},Object($["c"])(["width","height"])),methods:{returnBack:function(){this.$router.back()},getDataSource:function(){var e=this,t={apiId:this.$route.params.id};this.$get("/api/DataApi/GetApi",t).then(function(t){console.log(t),e.customerForm=t})},sqlContentFromat:function(){var e=this;if(""!==this.customerForm.sql_content){var t={sql:this.customerForm.sql_content.replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"")};this.$get("/api/DataApi/ParseSql",t).then(function(t){console.log("SQL格式化",t),e.customerForm.request_parameter_list=t.requestList,e.customerForm.response_parameter_list=t.respList}),this.customerForm.sql_content=this.customerForm.sql_content.replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,""),console.log(this.customerForm.sql_content),this.customerForm.sql_content=this.customerForm.sql_content.replace(/SELECT/g,"SELECT\r\n\t").replace(/FROM/g,"\r\nFROM\n\t").replace(/WHERE/g,"\r\nWHERE\n\t").replace(/select/g,"SELECT\r\n\t").replace(/where/g,"\r\nWHERE\n\t").replace(/from/g,"\r\nFROM\n\t")}},save:function(){var e=this;this.$refs.CustomerForm.validate(function(t){t&&e.$post("/api/DataApi/Save",e.customerForm).then(function(e){console.log("更新数据源",e)})})}},mounted:function(){this.getDataSource()}},We=Be,He=(a("779b"),Object(s["a"])(We,Ve,je,!1,null,"16f338f1",null)),Ge=He.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-source-add"},[a("paper-header",{attrs:{back:e.returnBack},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("新增数据源")]},proxy:!0},{key:"button",fn:function(){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.save}},[e._v("保存")])]},proxy:!0}])}),a("div",{staticClass:"content",style:{width:e.width-40+"px",height:e.height-52+"px"}},[a("el-form",{ref:"CustomerForm",attrs:{model:e.customerForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"数据源名称",prop:"api_name",rules:[{required:!0,message:"请输入数据源名称",trigger:"blur"}]}},[a("el-input",{model:{value:e.customerForm.api_name,callback:function(t){e.$set(e.customerForm,"api_name",t)},expression:"customerForm.api_name"}})],1),a("el-form-item",{attrs:{label:"SQL语句",prop:"sql_content",rules:[{required:!0,message:"请输入SQL语句",trigger:"blur"}]}},[a("div",{staticStyle:{position:"relative"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.customerForm.sql_content,callback:function(t){e.$set(e.customerForm,"sql_content",t)},expression:"customerForm.sql_content"}}),a("el-button",{staticStyle:{position:"absolute",right:"20px",bottom:"0"},attrs:{title:"格式化",type:"text"},on:{click:e.sqlContentFromat}},[a("i",{staticClass:"iconfont icon-format_icon",staticStyle:{"font-size":"24px"}})])],1)]),e.customerForm.request_parameter_list.length>0?a("el-form-item",{attrs:{label:"请求参数",prop:"request_parameter_list"}},[a("el-row",{staticStyle:{"text-align":"center"}},[a("el-col",{attrs:{span:6}},[e._v("参数名称")]),a("el-col",{attrs:{span:6}},[e._v("参数中文名称")]),a("el-col",{attrs:{span:6}},[e._v("数据类型")]),a("el-col",{attrs:{span:6}},[e._v("是否必填")])],1),e._l(e.customerForm.request_parameter_list,function(t,l){return a("el-row",{key:l,staticStyle:{"text-align":"center",padding:"5px 0"},attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[e._v(e._s(t.parameter_name))]),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.parameter_name_chs,callback:function(a){e.$set(t,"parameter_name_chs",a)},expression:"param.parameter_name_chs"}})],1),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.data_type,callback:function(a){e.$set(t,"data_type",a)},expression:"param.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),a("el-col",{attrs:{span:6}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.is_required,callback:function(a){e.$set(t,"is_required",a)},expression:"param.is_required"}})],1)],1)})],2):e._e(),e.customerForm.response_parameter_list.length>0?a("el-form-item",{attrs:{label:"返回参数",prop:"response_parameter_list"}},[a("el-row",{staticStyle:{"text-align":"center"}},[a("el-col",{attrs:{span:6}},[e._v("参数名称")]),a("el-col",{attrs:{span:6}},[e._v("参数中文名称")]),a("el-col",{attrs:{span:6}},[e._v("数据类型")]),a("el-col",{attrs:{span:6}},[e._v("是否必填")])],1),e._l(e.customerForm.response_parameter_list,function(t,l){return a("el-row",{key:l,staticStyle:{"text-align":"center",padding:"5px 0"},attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[e._v(e._s(t.parameter_name))]),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.parameter_name_chs,callback:function(a){e.$set(t,"parameter_name_chs",a)},expression:"param.parameter_name_chs"}})],1),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.data_type,callback:function(a){e.$set(t,"data_type",a)},expression:"param.data_type"}},e._l(e.DataType,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1)],1)})],2):e._e(),a("el-form-item",{attrs:{label:"描述",prop:"api_desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.customerForm.api_desc,callback:function(t){e.$set(e.customerForm,"api_desc",t)},expression:"customerForm.api_desc"}})],1)],1)],1)],1)},Qe=[],Ue={name:"dataSourceAdd",components:{"paper-header":R},data:function(){return{DataType:me,customerForm:{api_id:"",api_name:"",api_desc:"",api_url:"",sql_content:"",fsq_db_name:"",request_parameter_list:[],response_parameter_list:[]}}},computed:Object(f["a"])({},Object($["c"])(["width","height"])),methods:{returnBack:function(){this.$router.back()},sqlContentFromat:function(){var e=this;if(""!==this.customerForm.sql_content){var t={sql:this.customerForm.sql_content.replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"")};this.$get("/api/DataApi/ParseSql",t).then(function(t){console.log("SQL格式化",t),e.customerForm.request_parameter_list=t.requestList,e.customerForm.response_parameter_list=t.respList}),this.customerForm.sql_content=this.customerForm.sql_content.replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,""),console.log(this.customerForm.sql_content),this.customerForm.sql_content=this.customerForm.sql_content.replace(/SELECT/g,"SELECT\r\n\t").replace(/FROM/g,"\r\nFROM\n\t").replace(/WHERE/g,"\r\nWHERE\n\t").replace(/select/g,"SELECT\r\n\t").replace(/where/g,"\r\nWHERE\n\t").replace(/from/g,"\r\nFROM\n\t")}},save:function(){var e=this;this.$refs.CustomerForm.validate(function(t){t&&(console.log(e.customerForm),e.$post("/api/DataApi/Add",e.customerForm).then(function(e){console.log("新增数据源",e)}))})}},mounted:function(){}},Je=Ue,Xe=(a("18cf"),Object(s["a"])(Je,Ze,Qe,!1,null,"44be17c6",null)),Ke=Xe.exports;l["default"].use(d["a"]);var Ye=new d["a"]({mode:"history",routes:[{path:"*",redirect:"/"},{path:"/",component:E,children:[{path:"",component:W},{path:"/FormList",component:W},{path:"/FormEdit/:id",component:$e},{path:"/FormPreview/:id",component:Re},{path:"/DataSource",component:J},{path:"/DataSourceEdit/:id",component:Ge},{path:"/DataSourceAdd",component:Ke}]}]}),et={state:{win_content:{width:"",height:""},leftMenuSlider:!0},mutations:{SET_WIN_CONTENT:function(e,t){e.win_content.width=t.width,e.win_content.height=t.height},SET_LEFT_MEN_SLIDER:function(e,t){e.leftMenuSlider=t}},getters:{width:function(e){return e.win_content.width},height:function(e){return e.win_content.height},leftMenuSlider:function(e){return e.leftMenuSlider}},actions:{set_win_content:function(e,t){var a=e.commit;a("SET_WIN_CONTENT",t)}}};l["default"].use($["a"]);var tt=new $["a"].Store({modules:{page:et}}),at=a("795b"),lt=a.n(at),rt=a("bc3a"),ot=a.n(rt);ot.a.defaults.timeout=5e3;var nt={"请求错误":0,"授权过期":1,"地址出错":2,"请求超时":3,"服务器内部错误":4,"接口返回错误":5,"未知错误":6};function it(e){var t="",a=nt.请求错误;switch(e.status){case 400:t="请求无效",a=nt.请求错误;break;case 401:t="您的授权已过期，请重新登录",a=nt.授权过期;break;case 404:t="请求地址出错: ".concat(err.response.config.url),a=nt.地址出错;break;case 408:t="请求超时，请尝试重新获取",a=nt.请求超时;break;case 500:t="服务器内部错误，请联系技术人员",a=nt.服务器内部错误;break;default:t="未知错误，请刷新页面后尝试重新获取",a=nt.未知错误}return{msg:t,errType:a}}function st(e){var t="";for(var a in nt)nt[a]===e.errType&&(t=a);return t+":"+e.msg}function ct(e,t,a){return ot.a.get(e,{params:t}).then(function(e){return pt(e.data,a)})}function ut(e,t,a){return ot.a.post(e,t).then(function(e){return pt(e.data,a)})}function pt(e,t){return new lt.a(function(a,l){e.Status?a(e.Result):("授权过期"===e.Message.split(":")[0]?r["MessageBox"].confirm(e.Message,"信息确认",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"error"}).then(function(){Ye.replace({path:"/"})}).catch(function(){Object(r["Message"])({type:"warning",message:"授权已过期，请重新登录"})}):Object(r["Message"])({type:"error",message:e.Message}),"function"===typeof t&&t())})}ot.a.interceptors.request.use(function(e){return e.headers["X-Requested-With"]="XMLHttpRequest",e},function(e){console.log(e),st({msg:"错误的请求",errType:nt.请求错误})}),ot.a.interceptors.response.use(function(e){return e},function(e){return console.log(e.response),{data:{Status:!1,Message:st(it(e.response)),Result:null}}}),l["default"].prototype.$get=ct,l["default"].prototype.$post=ut,l["default"].config.productionTip=!1,l["default"].use(o.a),Ye.beforeEach(function(e,t,a){-1!==e.path.indexOf("/FormEdit")?tt.commit("SET_LEFT_MEN_SLIDER",!1):tt.commit("SET_LEFT_MEN_SLIDER",!0),a()}),new l["default"]({router:Ye,store:tt,render:function(e){return e(p)}}).$mount("#app")},"5c48":function(e,t,a){},"5d95":function(e,t,a){},"6fa4":function(e,t,a){},"70da":function(e,t,a){},"779b":function(e,t,a){"use strict";var l=a("e3e5"),r=a.n(l);r.a},"7c55":function(e,t,a){"use strict";var l=a("5c48"),r=a.n(l);r.a},"7cbd":function(e,t,a){"use strict";var l=a("d503"),r=a.n(l);r.a},"81e6":function(e,t,a){"use strict";var l=a("1348"),r=a.n(l);r.a},9147:function(e,t,a){"use strict";var l=a("70da"),r=a.n(l);r.a},"9abf":function(e,t,a){"use strict";var l=a("5d95"),r=a.n(l);r.a},"9cf1":function(e,t,a){},b9c1:function(e,t,a){"use strict";var l=a("9cf1"),r=a.n(l);r.a},ba98:function(e,t,a){},d503:function(e,t,a){},e3e5:function(e,t,a){}});
//# sourceMappingURL=app.a102885a.js.map